(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[437],{837:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pb/chatSection",function(){return n(5079)}])},5079:function(e,t,n){"use strict";n.r(t);var r=n(5893),a=n(7294),i=n(5697),s=n.n(i);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=function(e){var t=e.gameid,n=void 0===t?"":t,i=e.client,s=e.nickname,c=e.msgs,u=void 0===c?[]:c,l=e.setMsgs,d=e.participant,p=void 0===d?"":d,f=(0,a.useState)(""),h=f[0],m=f[1],g=function(e){var t=new Date(e),n=t.getHours(),r=t.getMinutes(),a="@";return n<10&&(a+="0"),a=a+n.toString()+":",r<10&&(a+="0"),a+=r.toString()};return(0,r.jsx)("div",{id:"ScrollableChat",className:"pbChat",children:(0,r.jsx)("table",{className:"pbChatTable",children:(0,r.jsxs)("tbody",{children:[u.map((function(e,t){return(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{className:"pbChatFrom",children:[g(e.created)," ",e.from]}),(0,r.jsx)("td",{className:"pbChatMsg",children:e.msg})]},"ChatMessage".concat(t))})),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"2",children:""===s?(0,r.jsx)("span",{children:"Please enter nickname to use chat"}):(0,r.jsx)("textarea",{className:""===h?"pbChatInputEmpty":"pbChatInput",name:"nextmsgInputArea",value:h,onChange:function(e){m(e.target.value)},onKeyDownCapture:function(e){if("Enter"===e.key&&h.length>0){e.preventDefault();var t=o(u).concat([{from:s,msg:h}]),r=h;return l(t),m(""),void i.send({gameid:n,nickname:s,type:i.clientType,func:"chat",sender:p,sendmsg:r})}if("Backspace"===e.key&&h.length>0){e.preventDefault();var a=h.slice(0,h.length-1);m(a)}},placeholder:"chat..."})})})]})})})};u.propTypes={gameid:s().string.isRequired,client:s().any,nickname:s().string.isRequired,msgs:s().arrayOf(s().string),setMsgs:s().func.isRequired,participant:s().string.isRequired},t.default=u}},function(e){e.O(0,[774,888,179],(function(){return t=837,e(e.s=t);var t}));var t=e.O();_N_E=t}]);