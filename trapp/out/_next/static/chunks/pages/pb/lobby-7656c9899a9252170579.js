_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{EzCb:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"r",(function(){return a})),n.d(t,"q",(function(){return s})),n.d(t,"p",(function(){return i})),n.d(t,"A",(function(){return o})),n.d(t,"z",(function(){return l})),n.d(t,"y",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"l",(function(){return b})),n.d(t,"o",(function(){return m})),n.d(t,"n",(function(){return j})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return f})),n.d(t,"i",(function(){return O})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return v})),n.d(t,"x",(function(){return x})),n.d(t,"g",(function(){return g})),n.d(t,"s",(function(){return N})),n.d(t,"t",(function(){return y})),n.d(t,"u",(function(){return k})),n.d(t,"v",(function(){return E})),n.d(t,"w",(function(){return I})),n.d(t,"h",(function(){return S})),n.d(t,"a",(function(){return C}));var c=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O"],r=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],a="U",s="P",i="G",o=s,l=i,d="X",u="run_circle",b="security",m="PRISONERS",j="GUARDS",h="PLAY",f="SWAP",O="PASS",p="r",w="d",v="",x="",g=["Escapee: \"I'm free! I'm free!\". Little kid: \"I'm four! I'm four!\"","Two peanuts were walking down a back alley. One was a salted.","The psychic dwarf escaped! There's a small medium at large!","What do you call a vegetable who has escaped prison? An escapea!","The prisoners fave punctuation is a period. It marks the end of a sentence!","Prison is only one word, but to robbers it's a whole sentence."],N=2e4,y=["A","A","A","B","C","D","E","E","E","E","F","G","H","I","I","I","J","K","L","M","N","N","O","O","O","P","Q","R","R","S","T","T","U","V","W","X","Y","Z","?","?"],k=["A","A","A","A","A","B","C","D","D","E","E","E","E","E","E","F","G","H","I","I","I","I","I","J","K","L","L","M","N","N","N","O","O","O","O","P","Q","R","R","R","S","S","T","T","T","U","V","W","X","Y","Z","?","?"],E=["A","A","A","A","A","A","A","B","B","C","C","D","D","D","E","E","E","E","E","E","E","E","E","F","G","G","H","H","I","I","I","I","I","I","I","J","K","L","L","L","M","M","N","N","N","N","O","O","O","O","O","O","P","P","Q","R","R","R","R","R","S","S","S","T","T","T","T","U","U","U","V","W","X","Y","Z","?","?"],I=["A","A","A","A","A","A","A","A","A","B","B","C","C","D","D","D","D","E","E","E","E","E","E","E","E","E","E","E","E","F","F","G","G","G","H","H","I","I","I","I","I","I","I","I","I","J","K","L","L","L","L","M","M","N","N","N","N","N","N","O","O","O","O","O","O","O","O","P","P","Q","R","R","R","R","R","R","S","S","S","S","T","T","T","T","T","T","U","U","U","U","V","V","W","W","X","Y","Y","Z","?","?"],S="";function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(e.length-1)/2,n=2*t,c=t,r=!0;return e[0][0].usedby!==x&&e[0][c].usedby!==x&&e[0][n].usedby!==x&&e[c][0].usedby!==x&&e[c][n].usedby!==x&&e[n][0].usedby!==x&&e[n][c].usedby!==x&&e[n][n].usedby!==x&&(r=!1),r}},Jbs4:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pb/lobby",function(){return n("M+XG")}])},KQm4:function(e,t,n){"use strict";function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function r(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return r}))},"M+XG":function(e,t,n){"use strict";n.r(t);var c=n("nKUr"),r=n("KQm4"),a=n("q1tI"),s=n("YFqc"),i=n.n(s),o=n("gx3M"),l=n("EzCb"),d="w3-button w3-border w3-blue w3-hover-black w3-round",u=function(e){var t=document.getElementById(e);t.scrollTop=t.scrollHeight};t.default=function(e){var t=e.client,n=e.setIsrejoin,s=e.wsmessage,b=e.gameid,m=e.setGameid,j=e.nickname,h=e.setNickname,f=e.setParticipant,O=e.racksize,p=e.setRacksize,w=Object(a.useState)([]),v=w[0],x=w[1],g=Object(a.useState)([]),N=g[0],y=g[1];function k(e){return function(e){for(var t=0;t<v.length;++t)if(v[t].gameid===e)return t;return-1}(e)>-1}function E(e){return 0===j.length||e.whoseturn===l.y?0:e.gname?e.gname===j?2:0:1}function I(e){p(e)}return Object(a.useEffect)((function(){""!==s&&function(e){var t=JSON.parse(e);if("pb"===t.type&&"chat"===t.func&&!t.gameid&&t.nickname!==j){var n=[].concat(Object(r.a)(N),[{from:t.nickname,msg:t.sendmsg}]);return void y(n)}if("pb"===t.type&&"gamelist"===t.func){var c=[];t.gamelist.forEach((function(e){var t={gameid:e.gameid,pname:e.pname,gname:e.gname,gamestatus:e.whoseturn===l.y?"Game over":"Unfinished",racksize:e.racksize};c.push(t)})),x([].concat(c))}}(s)}),[s]),Object(a.useEffect)((function(){u("ScrollableChat")}),[N]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"w3-container w3-teal w3-bar",children:[Object(c.jsx)("h1",{className:"w3-bar-item w3-centre myHeadingFont",children:"Prison Break Lobby"}),Object(c.jsx)("div",{className:"w3-bar-item w3-right",children:Object(c.jsx)(i.a,{href:"../../",children:Object(c.jsx)("a",{children:Object(c.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})})})]}),Object(c.jsxs)("div",{className:"w3-row",children:[Object(c.jsxs)("div",{className:"w3-col s9",children:[Object(c.jsx)("div",{className:"w3-container",children:Object(c.jsxs)("div",{className:"w3-bar",children:[Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("h3",{children:Object(c.jsx)("span",{className:"pbPlayerTitle",children:"All Participants ~"})})}),Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("h3",{children:Object(c.jsx)("b",{children:"Nickname:"})})}),Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"text",name:"nickname",value:j,onChange:function(e){h(e.target.value)}})})]})}),Object(c.jsx)("div",{className:"w3-container",children:Object(c.jsxs)("div",{className:"w3-bar",children:[Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("h3",{children:Object(c.jsx)("span",{className:"pbPlayerTitle",children:"Prisoners ~"})})}),Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("h3",{children:Object(c.jsx)("b",{children:"Game ID:"})})}),Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"text",name:"gameid",value:b,onChange:function(e){m(e.target.value)}})}),Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("h3",{children:Object(c.jsx)("b",{children:"Rack Size:"})})}),Object(c.jsxs)("div",{className:"w3-bar-item",children:[Object(c.jsxs)("div",{className:"w3-row",children:[Object(c.jsx)("button",{id:"selectracksize4",className:4===O?"pbLobbyRackSizeSelected":"pbLobbyRackSize",onClick:function(){return I(4)},"data-toggle":"tooltip",title:"4 letter racks, 9 x 9 board",autoFocus:!0,children:"4"}),Object(c.jsx)("button",{id:"selectracksize5",className:5===O?"pbLobbyRackSizeSelected":"pbLobbyRackSize",onClick:function(){return I(5)},"data-toggle":"tooltip",title:"5 letter racks, 11 x 11 board",children:"5"}),Object(c.jsx)("button",{id:"selectracksize6",className:6===O?"pbLobbyRackSizeSelected":"pbLobbyRackSize",onClick:function(){return I(6)},"data-toggle":"tooltip",title:"6 letter racks, 13 x 13 board",children:"6"}),Object(c.jsx)("button",{id:"selectracksize7",className:7===O?"pbLobbyRackSizeSelected":"pbLobbyRackSize",onClick:function(){return I(7)},"data-toggle":"tooltip",title:"7 letter racks, 15 x 15 board",children:"7"})]}),Object(c.jsx)("div",{className:"w3-row",children:Object(c.jsxs)("span",{className:"pbLobbyCellBlockInfo",children:[O," letter racks, ",2*O+1," x ",2*O+1," board."]})})]}),Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("button",{id:"startgame",className:d,onClick:function(){0===j.length?window.alert("Please enter nickname before starting a game"):b.length>0?k(b)?window.alert("Game already started with that id"):f(l.q):window.alert("Please enter Game ID before starting a game")},children:"Start Game"})})]})}),Object(c.jsx)("div",{className:"w3-container",children:Object(c.jsxs)("div",{className:"w3-bar",children:[Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("h3",{children:Object(c.jsx)("span",{className:"pbPlayerTitle",children:"Guards ~"})})}),Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("span",{className:"myCommonFont",children:Object(c.jsx)("h2",{children:'Find and click the "Join Game" button for your game.'})})})]})}),Object(c.jsx)("div",{className:"w3-container",children:Object(c.jsxs)("div",{className:"w3-bar",children:[Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("h1",{children:Object(c.jsx)("i",{className:"material-icons w3-right",children:"report_problem"})})}),Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("h3",{className:"myCommonFont",children:'If you lost connection, find and click the "Reconnect" button for your nickname.'})})]})}),Object(c.jsx)("div",{className:"w3-container",children:Object(c.jsxs)("div",{className:"w3-bar",children:[Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsx)("h3",{className:"myCommonFont",children:Object(c.jsx)("b",{children:"Game list:"})})}),Object(c.jsx)("div",{className:"w3-bar-item",children:Object(c.jsxs)("table",{className:"w3-table-all w3-card-4",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{className:"w3-blue h4 myCommonFont",children:[Object(c.jsx)("th",{className:"w3-border-right",children:"Game ID"}),Object(c.jsx)("th",{className:"w3-border-right",children:"Prisoners"}),Object(c.jsx)("th",{className:"w3-border-right",children:"Guards"}),Object(c.jsx)("th",{className:"w3-border-right",children:"Rack Size"}),Object(c.jsx)("th",{children:"Game Status"})]})}),Object(c.jsx)("tbody",{children:v.map((function(e,t){return Object(c.jsxs)("tr",{className:"myCommonFont w3-hover-green",children:[Object(c.jsx)("td",{className:"w3-border-right",children:Object(c.jsx)("b",{children:e.gameid})}),2===(r=e,0===j.length||r.whoseturn===l.y?0:r.pname===j?2:0)?Object(c.jsx)("td",{id:"PrisonersRejoin".concat(t),className:"w3-border-right",children:Object(c.jsx)("button",{className:"w3-button w3-red w3-round w3-hover-black",onClick:function(){n(!0),m(e.gameid),f(l.q),p(e.racksize)},children:"Reconnect"})}):Object(c.jsx)("td",{id:"PrisonersNoAction".concat(t),className:"w3-border-right",children:"No action available"}),2===E(e)?Object(c.jsx)("td",{id:"GuardsRejoin".concat(t),className:"w3-border-right",children:Object(c.jsx)("button",{className:"w3-button w3-red w3-round w3-hover-black",onClick:function(){n(!0),m(e.gameid),f(l.p),p(e.racksize)},children:"Reconnect"})}):1===E(e)?Object(c.jsx)("td",{id:"GuardsJoin".concat(t),className:"w3-border-right",children:Object(c.jsx)("button",{className:d,onClick:function(){m(e.gameid),f(l.p),p(e.racksize)},children:"Join Game"})}):Object(c.jsx)("td",{id:"GuardsNoAction".concat(t),className:"w3-border-right",children:"No action available"}),Object(c.jsx)("td",{id:"RackSize".concat(t),className:"w3-center w3-border-right",children:e.racksize}),Object(c.jsx)("td",{id:"GameStatus".concat(t),children:e.gamestatus})]},"OtherGame".concat(t));var r}))})]})})]})})]}),Object(c.jsx)("div",{className:"w3-col s3",children:Object(c.jsx)(o.default,{client:t,nickname:j,msgs:N,setMsgs:y})})]}),Object(c.jsx)("div",{className:"w3-container w3-teal",children:Object(c.jsx)("h1",{children:"Have fun!"})})]})}},YFqc:function(e,t,n){e.exports=n("cTJO")},cTJO:function(e,t,n){"use strict";var c=n("J4zp"),r=n("284h");t.__esModule=!0,t.default=void 0;var a=r(n("q1tI")),s=n("elyg"),i=n("nOHt"),o=n("vNVm"),l={};function d(e,t,n,c){if(e&&(0,s.isLocalURL)(t)){e.prefetch(t,n,c).catch((function(e){0}));var r=c&&"undefined"!==typeof c.locale?c.locale:e&&e.locale;l[t+"%"+n+(r?"%"+r:"")]=!0}}var u=function(e){var t=!1!==e.prefetch,n=(0,i.useRouter)(),r=n&&n.pathname||"/",u=a.default.useMemo((function(){var t=(0,s.resolveHref)(r,e.href,!0),n=c(t,2),a=n[0],i=n[1];return{href:a,as:e.as?(0,s.resolveHref)(r,e.as):i||a}}),[r,e.href,e.as]),b=u.href,m=u.as,j=e.children,h=e.replace,f=e.shallow,O=e.scroll,p=e.locale;"string"===typeof j&&(j=a.default.createElement("a",null,j));var w=a.Children.only(j),v=w&&"object"===typeof w&&w.ref,x=(0,o.useIntersection)({rootMargin:"200px"}),g=c(x,2),N=g[0],y=g[1],k=a.default.useCallback((function(e){N(e),v&&("function"===typeof v?v(e):"object"===typeof v&&(v.current=e))}),[v,N]);(0,a.useEffect)((function(){var e=y&&t&&(0,s.isLocalURL)(b),c="undefined"!==typeof p?p:n&&n.locale,r=l[b+"%"+m+(c?"%"+c:"")];e&&!r&&d(n,b,m,{locale:c})}),[m,b,y,p,t,n]);var E={ref:k,onClick:function(e){w.props&&"function"===typeof w.props.onClick&&w.props.onClick(e),e.defaultPrevented||function(e,t,n,c,r,a,i,o){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,s.isLocalURL)(n))&&(e.preventDefault(),null==i&&(i=c.indexOf("#")<0),t[r?"replace":"push"](n,c,{shallow:a,locale:o,scroll:i}).then((function(e){e&&i&&document.body.focus()})))}(e,n,b,m,h,f,O,p)},onMouseEnter:function(e){(0,s.isLocalURL)(b)&&(w.props&&"function"===typeof w.props.onMouseEnter&&w.props.onMouseEnter(e),d(n,b,m,{priority:!0}))}};if(e.passHref||"a"===w.type&&!("href"in w.props)){var I="undefined"!==typeof p?p:n&&n.locale,S=(0,s.getDomainLocale)(m,I,n&&n.locales,n&&n.domainLocales);E.href=S||(0,s.addBasePath)((0,s.addLocale)(m,I,n&&n.defaultLocale))}return a.default.cloneElement(w,E)};t.default=u},gx3M:function(e,t,n){"use strict";n.r(t);var c=n("nKUr"),r=n("KQm4"),a=n("q1tI");t.default=function(e){var t=e.gameid,n=void 0===t?"":t,s=e.client,i=e.nickname,o=e.msgs,l=void 0===o?[]:o,d=e.setMsgs,u=e.participant,b=void 0===u?"":u,m=Object(a.useState)(""),j=m[0],h=m[1];return Object(c.jsx)("div",{id:"ScrollableChat",className:"pbChat",children:Object(c.jsx)("table",{className:"pbChatTable",children:Object(c.jsxs)("tbody",{children:[l.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"pbChatFrom",children:e.from}),Object(c.jsx)("td",{className:"pbChatMsg",children:e.msg})]},"ChatMessage".concat(t))})),Object(c.jsx)("tr",{children:Object(c.jsx)("td",{colSpan:"2",children:""===i?Object(c.jsx)("span",{children:"Please enter nickname to use chat"}):Object(c.jsx)("textarea",{className:""===j?"pbChatInputEmpty":"pbChatInput",name:"nextmsgInputArea",value:j,onChange:function(e){h(e.target.value)},onKeyDownCapture:function(e){if("Enter"===e.key&&j.length>0){e.preventDefault();var t=[].concat(Object(r.a)(l),[{from:i,msg:j}]),c=j;return d(t),h(""),void s.send({gameid:n,nickname:i,type:"pb",func:"chat",sender:b,sendmsg:c})}if("Backspace"===e.key&&j.length>0){e.preventDefault();var a=j.slice(0,j.length-1);h(a)}},placeholder:"chat..."})})})]})})})}},vNVm:function(e,t,n){"use strict";var c=n("J4zp"),r=n("TqRt");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!i,r=(0,a.useRef)(),l=(0,a.useState)(!1),d=c(l,2),u=d[0],b=d[1],m=(0,a.useCallback)((function(e){r.current&&(r.current(),r.current=void 0),n||u||e&&e.tagName&&(r.current=function(e,t,n){var c=function(e){var t=e.rootMargin||"",n=o.get(t);if(n)return n;var c=new Map,r=new IntersectionObserver((function(e){e.forEach((function(e){var t=c.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return o.set(t,n={id:t,observer:r,elements:c}),n}(n),r=c.id,a=c.observer,s=c.elements;return s.set(e,t),a.observe(e),function(){s.delete(e),a.unobserve(e),0===s.size&&(a.disconnect(),o.delete(r))}}(e,(function(e){return e&&b(e)}),{rootMargin:t}))}),[n,t,u]);return(0,a.useEffect)((function(){i||u||(0,s.default)((function(){return b(!0)}))}),[u]),[m,u]};var a=n("q1tI"),s=r(n("0G5g")),i="undefined"!==typeof IntersectionObserver;var o=new Map}},[["Jbs4",0,1,2,3]]]);