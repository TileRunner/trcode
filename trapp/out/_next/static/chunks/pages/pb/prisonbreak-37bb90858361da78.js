(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{2137:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pb/prisonbreak",function(){return n(2896)}])},2896:function(e,t,n){"use strict";n.r(t);var i=n(5893),s=n(7294),r=n(5697),o=n.n(r),c=n(6882),u=n(5211),a=n(4577),f=n(1963),h=n(7554),l=n(5934),m=function(e){var t=e.setWhereto,n=(0,s.useState)((0,l.Z)())[0],r=(0,s.useState)(!1),o=r[0],m=r[1],p=(0,s.useState)(""),d=p[0],k=p[1],y=(0,s.useState)(""),v=y[0],g=y[1],S=(0,s.useState)(h.dK),w=S[0],b=S[1],T=(0,s.useState)(""),_=T[0],C=T[1],E=(0,s.useState)(4),j=E[0],N=E[1],R="wss://tilerunner.herokuapp.com/?clientType=pb&thisisme="+n,V=(0,s.useState)(new c.Z(R,(function(e){C(e.data)}),"pb",n))[0];return(0,s.useEffect)((function(){return V.connect()}),[]),w===h.dK?(0,i.jsx)(u.default,{setWhereto:t,client:V,setIsrejoin:m,wsmessage:_,gameid:d,setGameid:k,nickname:v,setNickname:g,setParticipant:b,racksize:j,setRacksize:N}):w===h.Vj?(0,i.jsx)(f.default,{setWhereto:t,client:V,wsmessage:_,gameid:d,nickname:v,participant:w}):(0,i.jsx)(a.default,{setWhereto:t,isrejoin:o,participant:w,gameid:d,nickname:v,wsmessage:_,client:V,racksize:j})};m.propTypes={setWhereto:o().func.isRequired},t.default=m},6882:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}n.d(t,{Z:function(){return c}});var o=function(){function e(t,n){i(this,e),this.callback=t,this.timerCalc=n,this.timer=null,this.tries=0}return r(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}(),c=function(){function e(t,n,s,r){var c=this;i(this,e),this.customSocket=null,this.socketUrl=t,this.clientType=s,this.thisisme=r,this.reconnectTimer=new o((function(){c.disconnect(),c.connect()}),this.reconnectAfterMs),this.messageFunction=n}return r(e,[{key:"reconnectAfterMs",value:function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4}},{key:"connect",value:function(){var e=this;this.customSocket=new WebSocket(this.socketUrl),this.customSocket.onopen=function(t){e.send({type:e.clientType,func:"announce",thisisme:e.thisisme})},this.customSocket.onclose=function(t){e.reconnectTimer.scheduleTimeout()},this.customSocket.onerror=function(e){},this.customSocket.onmessage=this.messageFunction}},{key:"disconnect",value:function(){this.customSocket.onclose=function(){},this.customSocket.close()}},{key:"send",value:function(e){e.thisisme=this.thisisme,e.clientType=this.clientType;var t=JSON.stringify(e);this.customSocket.send(t)}}]),e}()},5934:function(e,t,n){"use strict";var i;n.d(t,{Z:function(){return h}});var s=new Uint8Array(16);function r(){if(!i&&!(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(s)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(e){return"string"===typeof e&&o.test(e)},u=[],a=0;a<256;++a)u.push((a+256).toString(16).substr(1));var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};var h=function(e,t,n){var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=i[s];return t}return f(i)}}},function(e){e.O(0,[14,577,211,963,774,888,179],(function(){return t=2137,e(e.s=t);var t}));var t=e.O();_N_E=t}]);