_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{"2Skw":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pb/prisonbreak2",function(){return n("UOmD")}])},KQm4:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return s}))},UOmD:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var r=n("nKUr"),s=n("KQm4");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("q1tI"),d=n.n(p),b=n("YFqc"),j=n.n(b);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var s=h(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return f(this,n)}}var y=["0-0","0-7","0-14","7-0","7-14","14-0","14-7","14-14"];function O(){return Object(r.jsx)(m,{})}function k(e){var t="P"===e.squareusedby?"pbSquareUsedByPrisoners":"pbSquareUsedByGuards",n="."!==e.c?t:7===e.ri&&7===e.ci?"pbSquareCenterSquare":0!==e.ri&&7!==e.ri&&14!==e.ri||0!==e.ci&&7!==e.ci&&14!==e.ci?"pbSquare":"pbSquareEscapeHatch",s="."!==e.c?e.c:"pbSquareCenterSquare"===n?"\u2730":"pbSquareEscapeHatch"===n?"\ud83d\udcab":e.ri%2===e.ci%2?"\u2394":"\u2726";return Object(r.jsx)("div",{children:Object(r.jsx)("td",{children:Object(r.jsx)("button",{className:n,onClick:e.onClick,children:s})})})}var g=function(e){u(n,e);var t=v(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"renderSquare",value:function(e,t,n,s){var i=this;return Object(r.jsx)("div",{children:Object(r.jsx)(k,{c:n,ci:t,ri:e,squareusedby:s,onClick:function(){return i.props.onClick(e,t)}})},"Square".concat(e,"-").concat(t))}},{key:"renderRow",value:function(e){var t=this;return Object(r.jsx)("tr",{className:"row pbRow",children:this.props.squares[e].map((function(n,r){return t.renderSquare(e,r,n,t.props.usedby[e][r])}))},"BoardRow".concat(e))}},{key:"render",value:function(){var e=this;return Object(r.jsx)("table",{className:"pbBoard",children:Object(r.jsx)("tbody",{children:this.props.squares.map((function(t,n){return e.renderRow(n)}))})})}}]),n}(d.a.Component),m=function(e){u(n,e);var t=v(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).state={squares:Array(15).fill(Array(15).fill(".")),usedby:Array(15).fill(Array(15).fill("")),tiles:["A","A","A","A","A","A","A","A","A","B","B","C","C","D","D","D","D","E","E","E","E","E","E","E","E","E","E","E","E","F","F","G","G","G","H","H","I","I","I","I","I","I","I","I","I","J","K","L","L","L","L","M","M","N","N","N","N","N","N","O","O","O","O","O","O","O","O","P","P","Q","R","R","R","R","R","R","S","S","S","S","T","T","T","T","T","T","U","U","U","U","V","V","W","W","X","Y","Y","Z","?","?"],selection:-1,ptiles:[],gtiles:[],whoseturn:"P",picking:!0,currentcoords:[],rescues:0},r}return o(n,[{key:"handleBoardSquareClick",value:function(e,t){console.log("click on "+e+", "+t);var n=this.state.selection,r=this.state.squares,i=r[e][t],c=this.state.whoseturn,o=this.state.ptiles,a=this.state.gtiles,u=this.state.usedby,l=this.state.currentcoords,f=String(e)+"-"+String(t),h=l.indexOf(f);if(n>-1&&"."===i){var p=Object(s.a)(r[e]);p[t]="P"===c?o[n]:a[n],r[e]=Object(s.a)(p),"P"===c?o.splice(n,1):a.splice(n,1);var d=Object(s.a)(u[e]);d[t]=c,u[e]=Object(s.a)(d),n=-1,this.setState({squares:r,usedby:u,ptiles:o,gtiles:a,selection:n,currentcoords:[].concat(Object(s.a)(l),[f])})}else if("."!==i&&h>-1&&("P"===c&&o.length<7||"G"===c&&a.length<7)){"P"===c?o.push(i):a.push(i);var b=Object(s.a)(r[e]);b[t]=".",r[e]=Object(s.a)(b);var j=Object(s.a)(u[e]);j[t]="",u[e]=Object(s.a)(j),n="P"===c?o.length-1:a.length-1,l.splice(h,1),this.setState({squares:r,usedby:u,ptiles:o,gtiles:a,selection:n,currentcoords:l})}}},{key:"handlePrisonerTileClick",value:function(e){"P"===this.state.whoseturn?this.setState({selection:e}):alert("It is not your turn")}},{key:"handleGuardTileClick",value:function(e){"G"===this.state.whoseturn?this.setState({selection:e}):alert("It is not your turn")}},{key:"pickPrisonerTiles",value:function(){for(var e=Object(s.a)(this.state.ptiles),t=Object(s.a)(this.state.tiles);e.length<7&&t.length>0;){var n=Math.floor(Math.random()*t.length);e.push(t[n]),t.splice(n,1)}this.setState({picking:!1,ptiles:e,tiles:t})}},{key:"pickGuardsTiles",value:function(){for(var e=Object(s.a)(this.state.gtiles),t=Object(s.a)(this.state.tiles);e.length<7&&t.length>0;){var n=Math.floor(Math.random()*t.length);e.push(t[n]),t.splice(n,1)}this.setState({picking:!1,gtiles:e,tiles:t})}},{key:"endPrisonersTurn",value:function(){console.log("winning coords "+y.toString()),console.log("current coords "+this.state.currentcoords.toString());for(var e=this.state.rescues,t=0;t<this.state.currentcoords.length;t++)y.indexOf(this.state.currentcoords[t])>-1&&e++;this.setState({whoseturn:"G",picking:!0,selection:-1,currentcoords:[],rescues:e})}},{key:"endGuardsTurn",value:function(){this.setState({whoseturn:"P",picking:!0,selection:-1,currentcoords:[]})}},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{class:"container-fluid prisonbreak",children:[Object(r.jsx)("div",{class:"row",children:Object(r.jsx)("div",{class:"col-12",children:Object(r.jsx)("h1",{className:"wmtitle Mastermind",children:"Prison Break"})})}),Object(r.jsxs)("div",{class:"row",children:[Object(r.jsxs)("div",{class:"col-2 pbPrisoners",children:[this.state.picking&&"P"===this.state.whoseturn&&this.state.ptiles.length<7&&this.state.tiles.length>0?this.pickPrisonerTiles():Object(r.jsx)(r.Fragment,{}),Object(r.jsx)(S,{ptiles:this.state.ptiles,whoseturn:this.state.whoseturn,selection:this.state.selection,onClick:function(t){return e.handlePrisonerTileClick(t)},onClickFinishTurn:function(){return e.endPrisonersTurn()},rescues:this.state.rescues})]}),Object(r.jsx)("div",{class:"col-6",align:"center",children:Object(r.jsx)(g,{squares:this.state.squares,usedby:this.state.usedby,onClick:function(t,n){return e.handleBoardSquareClick(t,n)}})}),Object(r.jsxs)("div",{class:"col-2 pbGuards",children:[this.state.picking&&"G"===this.state.whoseturn&&this.state.gtiles.length<7&&this.state.tiles.length>0?this.pickGuardsTiles():Object(r.jsx)(r.Fragment,{}),Object(r.jsx)(C,{gtiles:this.state.gtiles,whoseturn:this.state.whoseturn,selection:this.state.selection,onClick:function(t){return e.handleGuardTileClick(t)},onClickFinishTurn:function(){return e.endGuardsTurn()}})]}),Object(r.jsx)("div",{class:"col-2",children:Object(r.jsx)(x,{tiles:this.state.tiles})})]}),Object(r.jsx)("div",{class:"row",children:Object(r.jsx)("div",{class:"col-1",children:Object(r.jsx)(j.a,{href:"../../",children:Object(r.jsx)("a",{className:"wmlink",children:"Home"})})})})]})}}]),n}(d.a.Component);function x(e){return Object(r.jsxs)("div",{className:"pbTilepool",children:[Object(r.jsx)("p",{children:"TILE POOL"}),e.tiles.map((function(t,n){return Object(r.jsxs)("span",{children:[n>0&&t!==e.tiles[n-1]?Object(r.jsx)("div",{className:"pbTilepoolDivider"}):Object(r.jsx)(r.Fragment,{}),Object(r.jsx)("span",{className:"pbTilepoolTile",children:t})]},"tile".concat(n))}))]})}function w(e){return Object(r.jsx)("td",{children:Object(r.jsx)("button",{className:e.tileclass,onClick:e.onClick,children:e.tilevalue})})}function T(e){return Object(r.jsx)("button",{onClick:e.onClick,children:"Finish Turn"})}var S=function(e){u(n,e);var t=v(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"renderTile",value:function(e,t,n){var s=this;return Object(r.jsx)(w,{tileclass:e,tilevalue:n,onClick:function(){return s.props.onClick(t)}})}},{key:"renderFinishTurn",value:function(){var e=this;return Object(r.jsx)(T,{onClick:function(){return e.props.onClickFinishTurn()}})}},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"PRISONERS"}),Object(r.jsx)("p",{className:"pbTilerack",children:this.props.ptiles.map((function(t,n){return e.renderTile("P"===e.props.whoseturn&&e.props.selection===n?"pbTileOnRackSelectedP":"pbTileOnRackP",n,t)}))}),"P"===this.props.whoseturn?this.renderFinishTurn():Object(r.jsx)(r.Fragment,{}),Object(r.jsxs)("p",{children:["Rescues made: ",this.props.rescues]})]})}}]),n}(d.a.Component),C=function(e){u(n,e);var t=v(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"renderTile",value:function(e,t,n){var s=this;return Object(r.jsx)(w,{tileclass:e,tilevalue:n,onClick:function(){return s.props.onClick(t)}})}},{key:"renderFinishTurn",value:function(){var e=this;return Object(r.jsx)(T,{onClick:function(){return e.props.onClickFinishTurn()}})}},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"GUARDS"}),Object(r.jsx)("p",{className:"pbTilerack",children:this.props.gtiles.map((function(t,n){return e.renderTile("G"===e.props.whoseturn&&e.props.selection===n?"pbTileOnRackSelectedG":"pbTileOnRackG",n,t)}))}),"G"===this.props.whoseturn?this.renderFinishTurn():Object(r.jsx)(r.Fragment,{})]})}}]),n}(d.a.Component)},YFqc:function(e,t,n){e.exports=n("cTJO")},cTJO:function(e,t,n){"use strict";var r=n("J4zp"),s=n("284h");t.__esModule=!0,t.default=void 0;var i=s(n("q1tI")),c=n("elyg"),o=n("nOHt"),a=n("vNVm"),u={};function l(e,t,n,r){if(e&&(0,c.isLocalURL)(t)){e.prefetch(t,n,r).catch((function(e){0}));var s=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;u[t+"%"+n+(s?"%"+s:"")]=!0}}var f=function(e){var t=!1!==e.prefetch,n=(0,o.useRouter)(),s=n&&n.pathname||"/",f=i.default.useMemo((function(){var t=(0,c.resolveHref)(s,e.href,!0),n=r(t,2),i=n[0],o=n[1];return{href:i,as:e.as?(0,c.resolveHref)(s,e.as):o||i}}),[s,e.href,e.as]),h=f.href,p=f.as,d=e.children,b=e.replace,j=e.shallow,v=e.scroll,y=e.locale;"string"===typeof d&&(d=i.default.createElement("a",null,d));var O=i.Children.only(d),k=O&&"object"===typeof O&&O.ref,g=(0,a.useIntersection)({rootMargin:"200px"}),m=r(g,2),x=m[0],w=m[1],T=i.default.useCallback((function(e){x(e),k&&("function"===typeof k?k(e):"object"===typeof k&&(k.current=e))}),[k,x]);(0,i.useEffect)((function(){var e=w&&t&&(0,c.isLocalURL)(h),r="undefined"!==typeof y?y:n&&n.locale,s=u[h+"%"+p+(r?"%"+r:"")];e&&!s&&l(n,h,p,{locale:r})}),[p,h,w,y,t,n]);var S={ref:T,onClick:function(e){O.props&&"function"===typeof O.props.onClick&&O.props.onClick(e),e.defaultPrevented||function(e,t,n,r,s,i,o,a){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,c.isLocalURL)(n))&&(e.preventDefault(),null==o&&(o=r.indexOf("#")<0),t[s?"replace":"push"](n,r,{shallow:i,locale:a,scroll:o}).then((function(e){e&&o&&document.body.focus()})))}(e,n,h,p,b,j,v,y)},onMouseEnter:function(e){(0,c.isLocalURL)(h)&&(O.props&&"function"===typeof O.props.onMouseEnter&&O.props.onMouseEnter(e),l(n,h,p,{priority:!0}))}};if(e.passHref||"a"===O.type&&!("href"in O.props)){var C="undefined"!==typeof y?y:n&&n.locale,P=(0,c.getDomainLocale)(p,C,n&&n.locales,n&&n.domainLocales);S.href=P||(0,c.addBasePath)((0,c.addLocale)(p,C,n&&n.defaultLocale))}return i.default.cloneElement(O,S)};t.default=f},vNVm:function(e,t,n){"use strict";var r=n("J4zp"),s=n("TqRt");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!o,s=(0,i.useRef)(),u=(0,i.useState)(!1),l=r(u,2),f=l[0],h=l[1],p=(0,i.useCallback)((function(e){s.current&&(s.current(),s.current=void 0),n||f||e&&e.tagName&&(s.current=function(e,t,n){var r=function(e){var t=e.rootMargin||"",n=a.get(t);if(n)return n;var r=new Map,s=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return a.set(t,n={id:t,observer:s,elements:r}),n}(n),s=r.id,i=r.observer,c=r.elements;return c.set(e,t),i.observe(e),function(){c.delete(e),i.unobserve(e),0===c.size&&(i.disconnect(),a.delete(s))}}(e,(function(e){return e&&h(e)}),{rootMargin:t}))}),[n,t,f]);return(0,i.useEffect)((function(){o||f||(0,c.default)((function(){return h(!0)}))}),[f]),[p,f]};var i=n("q1tI"),c=s(n("0G5g")),o="undefined"!==typeof IntersectionObserver;var a=new Map}},[["2Skw",0,2,1,3]]]);