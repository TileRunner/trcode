(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[965],{2792:function(r,t,e){"use strict";e.d(t,{CU:function(){return l},cO:function(){return i}});var n=e(809),o=e.n(n),c=e(2447),a="https://tilerunner.herokuapp.com";function l(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=0,n=Array.from(r),o=Array.from(t);if(n.length===o.length)for(var c=0;c<n.length;c++){n[c];n[c]!==o[c]&&e++}else e=-1;return e}function i(r){return s.apply(this,arguments)}function s(){return(s=(0,c.Z)(o().mark((function r(t){var e,n,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e="".concat(a,"/ENABLE2K?exists=").concat(t.toLowerCase()),r.next=3,fetch(e);case 3:return n=r.sent,r.next=6,n.json();case 6:return c=r.sent,r.abrupt("return",c.exists);case 8:case"end":return r.stop()}}),r)})))).apply(this,arguments)}},2808:function(r,t,e){"use strict";e.r(t);var n=e(5893),o=e(809),c=e.n(o),a=e(1385),l=e(2447),i=e(7294),s=e(2792);t.default=function(r){var t=r.setWhereto,e="morphoCellStatic",o="morphoCellNoLetter",u=(0,i.useState)(!0),f=u[0],h=u[1],p=(0,i.useState)(!1),d=p[0],m=p[1],v=(0,i.useState)(!1),w=v[0],y=v[1],x=(0,i.useState)(!1),N=x[0],A=x[1],C=(0,i.useState)(!1),j=C[0],b=C[1],k=(0,i.useState)(""),S=k[0],O=k[1],g=(0,i.useState)(""),E=g[0],U=g[1],B=(0,i.useState)([]),P=B[0],_=B[1],L=(0,i.useState)({row:1,col:0}),T=L[0],D=L[1];(0,i.useEffect)((function(){Z()}),[]);var Z=function(){var r=(0,l.Z)(c().mark((function r(){var t,n,l,i,s,u,f,p,d,v,w;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return h(!0),m(!1),A(!1),y(!1),b(!1),t=[],n="".concat("https://tilerunner.herokuapp.com","/ENABLE2K?morpho=true&len=").concat(5),r.next=9,fetch(n);case 9:return l=r.sent,r.next=12,l.json();case 12:if(!(i=r.sent).notes||0===i.notes.length)for(s=0;s<6;s++){for(u=i.puzzle[s].toUpperCase(),0===s?O(u):5===s&&U(u),f=(0,a.Z)(Array.from(u)),p=0===s||5===s,d=[],v=0;v<5;v++)w={letter:"?",solution:f[v],className:"?"},0===s||5===s?(w.letter=f[v],w.className=e):(w.letter="?",w.className=o),d.push(w);t.push({filledin:p,colArray:d})}_(t),D({row:1,col:0}),h(!1);case 17:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),I=function(r){var t=T.row,e=T.col;if(!(t<1||t>=5)&&!(e<0||t>=5))if(w&&"Enter"===r)H();else{var n="r";if("Backspace"===r&&(r="?",n="l"),"Delete"===r&&(r="?",n=""),"ArrowUp"===r&&(r=P[t].colArray[e].letter,n="u"),"ArrowDown"===r&&(r=P[t].colArray[e].letter,n="d"),"ArrowLeft"===r&&(r=P[t].colArray[e].letter,n="l"),"ArrowRight"===r&&(r=P[t].colArray[e].letter,n="r"),r.match(/^[A-Za-z\?]$/)&&""!==(r=r.toUpperCase())){var c=JSON.parse(JSON.stringify(P));c[t].colArray[e].letter=r,c[t].filledin=0===c[t].colArray.filter((function(r){return"?"===r.letter})).length;for(var a=0;a<5;a++)"?"===c[t].colArray[a].letter?c[t].colArray[a].className=o:c[t].colArray[a].className=c[t].filledin?"morphoCellCocoon":"morphoCellLarva";"u"===n&&K(),"d"===n&&z(),"r"===n&&R(),"l"===n&&Y(),0===c.filter((function(r){return!r.filledin})).length&&y(!0),_(c)}}},K=function(){var r=T.row,t=T.col,e={row:r,col:t};r-1>0?(e.row=r-1,e.col=t):(e.row=4,e.col=t-1>-1?t-1:4),D(e)},z=function(){var r=T.row,t=T.col,e={row:r,col:t};r+1<5?(e.row=r+1,e.col=t):(e.row=1,e.col=t+1<5?t+1:0),D(e)},R=function(){var r=T.row,t=T.col,e={row:1,col:0};t+1<5?(e.row=r,e.col=t+1):r+1<5&&(e.row=r+1,e.col=0),D(e)},Y=function(){var r=T.row,t=T.col,e={row:4,col:4};t-1>-1?(e.row=r,e.col=t-1):r-1>0&&(e.row=r-1,e.col=4),D(e)},H=function(){var r=(0,l.Z)(c().mark((function r(){var t,e,n,o,a;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:m(!0),t=!0,e=1;case 3:if(!(t&&e<6)){r.next=19;break}for(n="",o="",a=0;a<5;a++)n+=P[e-1].colArray[a].letter,o+=P[e].colArray[a].letter;if(1!==(0,s.CU)(n,o)&&(alert("".concat(n," to ").concat(o," is not a valid move")),t=!1),r.t0=t&&5!==e,!r.t0){r.next=13;break}return r.next=12,(0,s.cO)(o);case 12:r.t0=!r.sent;case 13:if(!r.t0){r.next=16;break}alert("".concat(o," is not valid")),t=!1;case 16:e++,r.next=3;break;case 19:m(!1),b(t);case 21:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,n.jsxs)("div",{className:"trBackground",onKeyDown:function(r){var t;"F12"!==(t=r).key&&(t.preventDefault(),d||j||I(t.key))},tabindex:-1,children:[(0,n.jsxs)("div",{className:"trTitle",children:["Morpho",(0,n.jsx)("button",{className:"trButton",onClick:function(){t("menu")},children:(0,n.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})]}),f&&(0,n.jsx)("div",{className:"trEmphasis",children:"Creating puzzle, please be patient..."}),!f&&(0,n.jsxs)("div",{className:j?"morphoSolvedDiv":"morphoDiv",children:[(0,n.jsx)("table",{children:P.map((function(r,t){return(0,n.jsx)("tr",{children:r.colArray.map((function(r,o){return(0,n.jsx)("td",{onClick:function(){!function(r,t){r<1||r>=5||t<0||r>=5||D({row:r,col:t})}(t,o)},className:"col morphoCell ".concat(N?e:j?"morphoCellButterfly":r.className+(t===T.row&&o===T.col?" morphoCellSelected":"")),children:N?(0,n.jsx)("span",{children:r.solution}):(0,n.jsx)("span",{children:r.letter})},"BoardCell.".concat(t,".").concat(o))}))},"BoardRow.".concat(t))}))}),(0,n.jsxs)("div",{className:"trParagraph",children:[!f&&!d&&!j&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"morphoKeyboard",children:[(0,n.jsxs)("div",{className:"morphoKeyrow4",children:[(0,n.jsx)("button",{onClick:function(){!function(){var r=T.row,t=T.col;r<1||r>=5||t<0||r>=5||I(P[r-1].colArray[t].letter)}()},className:"morphoCopydownKey",children:"COPY DOWN"},"keyCopydown"),(0,n.jsx)("button",{onClick:function(){!function(){var r=T.row,t=T.col;r<1||r>=5||t<0||r>=5||I(P[5].colArray[t].letter)}()},className:"morphoCopyupKey",children:"COPY UP"},"keyCopyup")]}),!j&&w&&(0,n.jsx)("div",{className:"morphoKeyrow4",children:(0,n.jsx)("button",{className:"trButton",onClick:function(){H()},children:"SUBMIT YOUR SOLUTION"})})]}),(0,n.jsxs)("p",{children:["Change one letter at a time to get from ",S," to ",E,"."]}),(0,n.jsx)("p",{children:"Each interim word must be a valid word."}),(0,n.jsx)("p",{children:"COPY DOWN copies a letter down from the row above."}),(0,n.jsx)("p",{children:"COPY UP copies a letter up from the bottom row."})]}),j?(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"trEmphasis",children:"Success!"}),(0,n.jsx)("button",{className:"trButton",onClick:function(){Z()},children:"GENERATE ANOTHER PUZZLE"})]}):(0,n.jsx)("button",{className:"trButton",onClick:function(){A(!N)},children:"".concat(N?"HIDE SOLUTION":"SHOW A SOLUTION")})]})]})]})}},5704:function(r,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/morpho/morpho",function(){return e(2808)}])},2447:function(r,t,e){"use strict";function n(r,t,e,n,o,c,a){try{var l=r[c](a),i=l.value}catch(s){return void e(s)}l.done?t(i):Promise.resolve(i).then(n,o)}function o(r){return function(){var t=this,e=arguments;return new Promise((function(o,c){var a=r.apply(t,e);function l(r){n(a,o,c,l,i,"next",r)}function i(r){n(a,o,c,l,i,"throw",r)}l(void 0)}))}}e.d(t,{Z:function(){return o}})},1385:function(r,t,e){"use strict";function n(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function o(r){return function(r){if(Array.isArray(r))return n(r)}(r)||function(r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,t){if(r){if("string"===typeof r)return n(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(r,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.d(t,{Z:function(){return o}})}},function(r){r.O(0,[774,888,179],(function(){return t=5704,r(r.s=t);var t}));var t=r.O();_N_E=t}]);