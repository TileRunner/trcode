(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[969],{4339:function(t,n,e){"use strict";e.d(n,{d:function(){return r},o:function(){return i}});var r="U",i="P"},4891:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return f}});var r=e(5893),i=e(7294),s=e(5518),o=e(5354),c=e(1863),u=e(4339),a=e(5877);function f(){var t=(0,i.useState)((0,a.v4)())[0],n=(0,i.useState)(u.d),e=n[0],f=n[1],l=(0,i.useState)(""),h=l[0],d=l[1],m="wss://tilerunner.herokuapp.com/?clientType=fyb&thisisme="+t,v=(0,i.useState)(new s.Z(m,(function(t){d(t.data)}),"fyb",t))[0];return(0,i.useEffect)((function(){return v.connect()}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"Under Construction"}),e===u.d&&(0,r.jsx)(o.default,{setParticipant:f,wsmessage:h}),e===u.o&&(0,r.jsx)(c.default,{setParticipant:f,wsmessage:h})]})}},1863:function(t,n,e){"use strict";e.r(n);var r=e(5893),i=e(7294),s=e(4339);n.default=function(t){var n=t.setParticipant,e=t.wsmessage,o=(0,i.useState)(""),c=o[0],u=o[1];return(0,i.useEffect)((function(){""!==e&&function(t){var n=JSON.parse(t);u(t),console.log("messageData.type = ".concat(n.type))}(e)}),[e]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"Game under construction"}),(0,r.jsx)("button",{onClick:function(){return n(s.d)},children:"Return to lobby"}),(0,r.jsxs)("p",{children:["Snat=",c]})]})}},5354:function(t,n,e){"use strict";e.r(n);var r=e(5893),i=e(7294),s=e(4339);n.default=function(t){var n=t.setParticipant,e=t.wsmessage,o=(0,i.useState)(""),c=o[0],u=o[1];return(0,i.useEffect)((function(){""!==e&&function(t){var n=JSON.parse(t);u(t),console.log("messageData.type = ".concat(n.type))}(e)}),[e]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"Lobby under construction"}),(0,r.jsx)("button",{onClick:function(){return n(s.o)},children:"Play"}),(0,r.jsxs)("p",{children:["Snat=",c]})]})}},5518:function(t,n,e){"use strict";e.d(n,{Z:function(){return o}});var r=e(4047),i=e(2700),s=function(){function t(n,e){(0,r.Z)(this,t),this.callback=n,this.timerCalc=e,this.timer=null,this.tries=0}return(0,i.Z)(t,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.tries=t.tries+1,t.callback()}),this.timerCalc(this.tries+1))}}]),t}(),o=function(){function t(n,e,i,o){var c=this;(0,r.Z)(this,t),this.customSocket=null,this.socketUrl=n,this.clientType=i,this.thisisme=o,this.reconnectTimer=new s((function(){c.disconnect(),c.connect()}),this.reconnectAfterMs),this.messageFunction=e}return(0,i.Z)(t,[{key:"reconnectAfterMs",value:function(t){return[1e3,2e3,5e3,1e4][t-1]||1e4}},{key:"connect",value:function(){var t=this;this.customSocket=new WebSocket(this.socketUrl),this.customSocket.onopen=function(n){t.send({type:t.clientType,func:"announce"})},this.customSocket.onclose=function(n){t.reconnectTimer.scheduleTimeout()},this.customSocket.onerror=function(t){},this.customSocket.onmessage=this.messageFunction}},{key:"disconnect",value:function(){this.customSocket.onclose=function(){},this.customSocket.close()}},{key:"send",value:function(t){t.thisisme=this.thisisme,t.clientType=this.clientType,this.customSocket.send(JSON.stringify(t))}}]),t}()},7784:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fyb/fryyourbrain",function(){return e(4891)}])},4047:function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,{Z:function(){return r}})},2700:function(t,n,e){"use strict";function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}e.d(n,{Z:function(){return i}})},5877:function(t,n,e){var r=e(3570),i=e(1171),s=i;s.v1=r,s.v4=i,t.exports=s},5327:function(t){for(var n=[],e=0;e<256;++e)n[e]=(e+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,i=n;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}},5217:function(t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var e=new Uint8Array(16);t.exports=function(){return n(e),e}}else{var r=new Array(16);t.exports=function(){for(var t,n=0;n<16;n++)0===(3&n)&&(t=4294967296*Math.random()),r[n]=t>>>((3&n)<<3)&255;return r}}},3570:function(t,n,e){var r,i,s=e(5217),o=e(5327),c=0,u=0;t.exports=function(t,n,e){var a=n&&e||0,f=n||[],l=(t=t||{}).node||r,h=void 0!==t.clockseq?t.clockseq:i;if(null==l||null==h){var d=s();null==l&&(l=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=i=16383&(d[6]<<8|d[7]))}var m=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:u+1,p=m-c+(v-u)/1e4;if(p<0&&void 0===t.clockseq&&(h=h+1&16383),(p<0||m>c)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=m,u=v,i=h;var y=(1e4*(268435455&(m+=122192928e5))+v)%4294967296;f[a++]=y>>>24&255,f[a++]=y>>>16&255,f[a++]=y>>>8&255,f[a++]=255&y;var k=m/4294967296*1e4&268435455;f[a++]=k>>>8&255,f[a++]=255&k,f[a++]=k>>>24&15|16,f[a++]=k>>>16&255,f[a++]=h>>>8|128,f[a++]=255&h;for(var g=0;g<6;++g)f[a+g]=l[g];return n||o(f)}},1171:function(t,n,e){var r=e(5217),i=e(5327);t.exports=function(t,n,e){var s=n&&e||0;"string"==typeof t&&(n="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var c=0;c<16;++c)n[s+c]=o[c];return n||i(o)}}},function(t){t.O(0,[774,888,179],(function(){return n=7784,t(t.s=n);var n}));var n=t.O();_N_E=n}]);