(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{4339:function(e,n,t){"use strict";t.d(n,{j6:function(){return i},dK:function(){return s},oZ:function(){return a},e:function(){return c},hA:function(){return r},$B:function(){return l}});var i="fyb",s="U",a="P",c="GAME_DATA",r="GAME_LIST",l=2e4},8337:function(e,n,t){"use strict";t.r(n);var i=t(5893),s=t(7294),a=t(4339);n.default=function(e){var n=e.client,t=e.thisisme,c=e.nickname,r=e.gameid,l=e.setGameid,d=(0,s.useState)(2),u=d[0],o=d[1],m=(0,s.useState)(11),h=m[0],f=m[1];return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"fybHeaderDiv",children:(0,i.jsx)("span",{className:"h2",children:"Create Game"})}),(0,i.jsx)("table",{children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("label",{children:"Game ID:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",name:"gameid",value:r,onChange:function(e){l(e.target.value)}})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("label",{children:"# Players:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"number",name:"numPlayers",value:u,onChange:function(e){o(e.target.value)}})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("label",{children:"Pts to win:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"number",name:"goal",value:h,onChange:function(e){f(e.target.value)}})})]})]})}),r&&u>1&&u<7&&h>2&&h<22&&(0,i.jsx)("button",{className:"fybLobbyButton",id:"requestCreateGame",type:"submit",onClick:function(){var e=r.trim();l(e),function(e,n,t,i,s,c){e.send({type:a.j6,func:"create",thisisme:n,gameid:t,numPlayers:i,goal:s,nickname:c,timestamp:Date.now()})}(n,t,r,u,h,c)},children:"SUBMIT"}),(0,i.jsxs)("div",{className:"fybInputWarning",children:[!r&&(0,i.jsx)("p",{children:"Game ID is required"}),!(u>1&&u<7)&&(0,i.jsx)("p",{children:"# Players is 2-6"}),!(h>2&&h<22)&&(0,i.jsx)("p",{children:"Pts to win is 3-21"})]})]})}},5354:function(e,n,t){"use strict";t.r(n);var i=t(5893),s=t(7294),a=t(4339),c=t(8337);function r(e,n,t,s){return(0,i.jsxs)("div",{className:"fybGamelist",children:[(0,i.jsx)("p",{children:"Game List:"}),(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"ID"}),(0,i.jsx)("th",{children:"Ppl"}),(0,i.jsx)("th",{children:"Pts"}),(0,i.jsx)("th",{children:"By"}),(0,i.jsx)("th",{children:"State"})]})}),(0,i.jsx)("tbody",{children:e.map((function(e,c){return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.gameid}),(0,i.jsxs)("td",{children:[e.players.length,"/",e.numPlayers]}),(0,i.jsx)("td",{children:e.goal}),(0,i.jsx)("td",{children:e.players[0].nickname}),(0,i.jsx)("td",{children:e.players.length<e.numPlayers?(0,i.jsx)("button",{type:"submit",onClick:function(){!function(e,n,t,i){e.send({type:a.j6,func:"join",thisisme:n,gameid:t,nickname:i,timestamp:Date.now()})}(n,t,e.gameid,s)},children:"JOIN"},"joinButton".concat(c)):u(e.players,s)?(0,i.jsx)("button",{type:"submit",onClick:function(){!function(e,n,t,i){e.send({type:a.j6,func:"rejoin",thisisme:n,gameid:t,nickname:i,timestamp:Date.now()})}(n,t,e.gameid,s)},children:"REJOIN"},"rejoinButton".concat(c)):"In progress"})]})}))})]})]})}function l(e,n,t){return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:"Nickname:"}),(0,i.jsx)("input",{type:"text",name:"nickname",value:e,onChange:function(e){n(e.target.value)}})]}),e&&(0,i.jsx)("div",{children:(0,i.jsx)("button",{className:"fybLobbyButton",type:"submit",onClick:function(){var i=e.trim();n(i),t(!0)},children:"SUBMIT"})})]})}function d(e){return(0,i.jsx)("div",{children:(0,i.jsx)("button",{className:"fybLobbyButton",type:"submit",id:"chooseCreateGame",onClick:function(){e("C")},children:"CREATE A GAME"})})}function u(e,n){for(var t=!1,i=0;i<e.length;i++)e[i].nickname===n&&(t=!0);return t}n.default=function(e){var n=e.ismobile,t=e.setWhereto,u=e.client,o=e.thisisme,m=e.setParticipant,h=e.wsmessage,f=e.nickname,j=e.setNickname,x=e.gameid,b=e.setGameid,g=(0,s.useState)("Welcome!"),y=g[0],p=g[1],v=(0,s.useState)([]),k=v[0],N=v[1],C=(0,s.useState)(!1),P=C[0],_=C[1],w=(0,s.useState)(""),G=w[0],I=w[1];return(0,s.useEffect)((function(){""!==h&&function(e){var n=JSON.parse(e);n.type===a.j6&&(n.func===a.hA?N(n.gamelist):n.func===a.e?n.thisisme===o?(b(n.game.gameid),p(n.snat),m(a.oZ)):p("Why am I getting game data from ".concat(n.nickname," for game ").concat(n.gameid,"?")):"gameidtaken"===n.func?p("That game ID is already taken"):"gameidunknown"===n.func?p("That game ID is not being used"):"gamefull"===n.func?p("That game is full"):"notinthatgame"===n.func?p("You are not in that game"):"otherclientfound"===n.func?p("That nickname is already in that game"):p("Unhandled message: ".concat(e)))}(h)}),[h]),(0,i.jsxs)("div",{className:"fybLobby ".concat("Y"===n?"mobile":"notmobile"),id:"fybLobby",children:[(0,i.jsxs)("div",{className:"fybHeaderDiv",children:[(0,i.jsx)("span",{className:"h2",children:"Fry Your Brain"}),(0,i.jsx)("button",{className:"fybHomeButton",onClick:function(){t("menu")},children:(0,i.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})]}),(0,i.jsx)("p",{children:y}),!P&&l(f,j,_),P&&r(k,u,o,f),P&&!G&&d(I),P&&"C"===G&&(0,i.jsx)(c.default,{client:u,thisisme:o,nickname:f,gameid:x,setGameid:b}),(0,i.jsx)("div",{className:"fivepxdivider",children:"\xa0"})]})}},4604:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fyb/lobby",function(){return t(5354)}])}},function(e){e.O(0,[774,888,179],(function(){return n=4604,e(e.s=n);var n}));var n=e.O();_N_E=n}]);