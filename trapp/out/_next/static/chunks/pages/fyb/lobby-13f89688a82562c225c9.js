(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{4339:function(e,n,t){"use strict";t.d(n,{j6:function(){return a},dK:function(){return i},oZ:function(){return r},e:function(){return s}});var a="fyb",i="U",r="P",s="GAME_DATA"},6071:function(e,n,t){"use strict";var a=t(3848);var i=t(9448)(t(7294)),r=t(1689),s=t(2441),c=t(5749),o={};function u(e,n,t,a){if(e&&(0,r.isLocalURL)(n)){e.prefetch(n,t,a).catch((function(e){0}));var i=a&&"undefined"!==typeof a.locale?a.locale:e&&e.locale;o[n+"%"+t+(i?"%"+i:"")]=!0}}},5749:function(e,n,t){"use strict";var a=t(3848);n.__esModule=!0,n.useIntersection=function(e){var n=e.rootMargin,t=e.disabled||!s,o=(0,i.useRef)(),u=(0,i.useState)(!1),l=a(u,2),m=l[0],d=l[1],f=(0,i.useCallback)((function(e){o.current&&(o.current(),o.current=void 0),t||m||e&&e.tagName&&(o.current=function(e,n,t){var a=function(e){var n=e.rootMargin||"",t=c.get(n);if(t)return t;var a=new Map,i=new IntersectionObserver((function(e){e.forEach((function(e){var n=a.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;n&&t&&n(t)}))}),e);return c.set(n,t={id:n,observer:i,elements:a}),t}(t),i=a.id,r=a.observer,s=a.elements;return s.set(e,n),r.observe(e),function(){s.delete(e),r.unobserve(e),0===s.size&&(r.disconnect(),c.delete(i))}}(e,(function(e){return e&&d(e)}),{rootMargin:n}))}),[t,n,m]);return(0,i.useEffect)((function(){if(!s&&!m){var e=(0,r.requestIdleCallback)((function(){return d(!0)}));return function(){return(0,r.cancelIdleCallback)(e)}}}),[m]),[f,m]};var i=t(7294),r=t(8391),s="undefined"!==typeof IntersectionObserver;var c=new Map},5354:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(7294),r=(t(1664),t(4339));function s(e,n,t){return(0,a.jsxs)("div",{className:"w3-row-padding h4",children:[(0,a.jsxs)("div",{className:"w3-quarter",children:[(0,a.jsx)("label",{children:"Nickname:"}),(0,a.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"text",name:"nickname",value:e,onChange:function(e){n(e.target.value)}})]}),e&&(0,a.jsx)("div",{className:"w3-quarter",children:(0,a.jsx)("button",{className:"w3-button w3-border w3-blue myCommonFont",type:"submit",onClick:function(){t(!0)},children:"SUBMIT"})})]})}function c(e){return(0,a.jsxs)("div",{className:"w3-row-padding h4",children:[(0,a.jsx)("div",{className:"w3-quarter",children:(0,a.jsx)("button",{className:"w3-button w3-border w3-blue myCommonFont",type:"submit",id:"chooseCreateGame",onClick:function(){e("C")},children:"CREATE A GAME"})}),(0,a.jsx)("div",{className:"w3-quarter",children:(0,a.jsx)("button",{className:"w3-button w3-border w3-blue myCommonFont",type:"submit",id:"chooseJoinGame",onClick:function(){e("J")},children:"JOIN A GAME"})})]})}function o(e,n,t,i,r,s,c){return(0,a.jsxs)("div",{className:"w3-row-padding h4",children:[(0,a.jsxs)("div",{className:"w3-quarter",children:[(0,a.jsx)("label",{children:"Game ID:"}),(0,a.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"text",name:"gameid",value:t,onChange:function(e){i(e.target.value)}})]}),(0,a.jsxs)("div",{className:"w3-quarter",children:[(0,a.jsx)("label",{children:"Number of Players:"}),(0,a.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"number",name:"numPlayers",value:r,onChange:function(e){e.target.value.match(/[23456]/)&&s(e.target.value)}})]}),t&&(0,a.jsx)("div",{className:"w3-quarter",children:(0,a.jsx)("button",{id:"requestCreateGame",className:"w3-button w3-border w3-blue myCommonFont",type:"submit",onClick:function(){!function(e,n,t,a,i){e.send({type:"fyb",func:"create",thisisme:n,gameid:t,numPlayers:a,nickname:i,timestamp:Date.now()})}(e,n,t,r,c)},children:"SUBMIT"})})]})}function u(e,n,t,i,r){return(0,a.jsxs)("div",{className:"w3-row-padding h4",children:[(0,a.jsxs)("div",{className:"w3-quarter",children:[(0,a.jsx)("label",{children:"Game ID to join:"}),(0,a.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"text",name:"gameid",value:t,onChange:function(e){i(e.target.value)}})]}),t&&(0,a.jsx)("div",{className:"w3-quarter",children:(0,a.jsx)("button",{id:"requestJoinGame",className:"w3-button w3-border w3-blue myCommonFont",type:"submit",onClick:function(){!function(e,n,t,a){e.send({type:"fyb",func:"join",thisisme:n,gameid:t,nickname:a})}(e,n,t,r)},children:"SUBMIT"})})]})}n.default=function(e){var n=e.setWhereto,t=e.client,l=e.thisisme,m=e.setParticipant,d=e.wsmessage,f=e.nickname,b=e.setNickname,w=e.gameid,h=e.setGameid,g=e.numPlayers,v=e.setNumPlayers,y=(0,i.useState)(""),j=y[0],N=y[1],p=(0,i.useState)(!1),x=p[0],C=p[1],k=(0,i.useState)(""),_=k[0],I=k[1];return(0,i.useEffect)((function(){""!==d&&function(e){var n=JSON.parse(e);N(e),"fyb"===n.type&&(n.func===r.e?n.thisisme===l?(w!==n.game.gameid&&h(n.game.gameid),g!==n.game.numPlayers&&v(n.game.numPlayers),m(r.oZ)):N("".concat(n.nickname," just created game ").concat(n.gameid,".")):"gameidtaken"===n.func?N("That game ID is already taken"):"gamejoined"===n.func?n.thisisme===l?(w!==n.game.gameid&&h(n.game.gameid),v(n.game.numPlayers),m(r.oZ)):N("".concat(n.nickname," just joined game ").concat(n.game.gameid,".")):"gameidunknown"===n.func?N("That game ID is not being used"):"gamefull"===n.func?N("That game is full"):N("Unhandled message: ".concat(e)))}(d)}),[d]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"w3-container w3-teal w3-bar",children:[(0,a.jsx)("h1",{className:"w3-bar-item w3-centre myHeadingFont",children:"Fry Your Brain Lobby"}),(0,a.jsx)("div",{className:"w3-bar-item w3-right",children:(0,a.jsx)("button",{className:"w3-button",onClick:function(){n("menu")},children:(0,a.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})})]}),(0,a.jsx)("h1",{children:"Lobby under construction"}),(0,a.jsx)("p",{children:j}),!x&&s(f,b,C),x&&!_&&c(I),x&&"C"===_&&o(t,l,w,h,g,v,f),x&&"J"===_&&u(t,l,w,h,f)]})}},4604:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fyb/lobby",function(){return t(5354)}])},1664:function(e,n,t){t(6071)}},function(e){e.O(0,[774,888,179],(function(){return n=4604,e(e.s=n);var n}));var n=e.O();_N_E=n}]);