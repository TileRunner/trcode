(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{4339:function(e,n,t){"use strict";t.d(n,{j6:function(){return i},dK:function(){return s},oZ:function(){return a},e:function(){return c},$B:function(){return r}});var i="fyb",s="U",a="P",c="GAME_DATA",r=2e4},5354:function(e,n,t){"use strict";t.r(n);var i=t(5893),s=t(7294),a=t(4339);function c(e,n,t,s){return(0,i.jsxs)("div",{className:"fybGamelist",children:[(0,i.jsx)("p",{children:"Game List:"}),(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"ID"}),(0,i.jsx)("th",{children:"Ppl"}),(0,i.jsx)("th",{children:"Pts"}),(0,i.jsx)("th",{children:"By"}),(0,i.jsx)("th",{children:"State"})]})}),(0,i.jsx)("tbody",{children:e.map((function(e,c){return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.gameid}),(0,i.jsxs)("td",{children:[e.players.length,"/",e.numPlayers]}),(0,i.jsx)("td",{children:e.goal}),(0,i.jsx)("td",{children:e.players[0].nickname}),(0,i.jsx)("td",{children:e.players.length<e.numPlayers?(0,i.jsx)("button",{type:"submit",onClick:function(){!function(e,n,t,i){e.send({type:a.j6,func:"join",thisisme:n,gameid:t,nickname:i,timestamp:Date.now()})}(n,t,e.gameid,s)},children:"JOIN"},"joinButton".concat(c)):d(e.players,s)?(0,i.jsx)("button",{type:"submit",onClick:function(){!function(e,n,t,i){e.send({type:a.j6,func:"rejoin",thisisme:n,gameid:t,nickname:i,timestamp:Date.now()})}(n,t,e.gameid,s)},children:"REJOIN"},"rejoinButton".concat(c)):"In progress"})]})}))})]})]})}function r(e,n,t){return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:"Nickname:"}),(0,i.jsx)("input",{type:"text",name:"nickname",value:e,onChange:function(e){n(e.target.value.trim())}})]}),e&&(0,i.jsx)("div",{children:(0,i.jsx)("button",{className:"fybLobbyButton",type:"submit",onClick:function(){t(!0)},children:"SUBMIT"})})]})}function l(e){return(0,i.jsx)("div",{children:(0,i.jsx)("button",{className:"fybLobbyButton",type:"submit",id:"chooseCreateGame",onClick:function(){e("C")},children:"CREATE A GAME"})})}function u(e,n,t,s,c,r,l,u,d){return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"fybHeaderDiv",children:(0,i.jsx)("span",{className:"h2",children:"Create Game"})}),(0,i.jsx)("table",{children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("label",{children:"Game ID:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",name:"gameid",value:t,onChange:function(e){s(e.target.value.trim())}})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("label",{children:"# Players:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"number",name:"numPlayers",value:c,onChange:function(e){r(e.target.value)}})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("label",{children:"Pts to win:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"number",name:"goal",value:l,onChange:function(e){u(e.target.value)}})})]})]})}),t&&c>1&&c<7&&l>2&&l<22&&(0,i.jsx)("button",{className:"fybLobbyButton",id:"requestCreateGame",type:"submit",onClick:function(){!function(e,n,t,i,s,c){e.send({type:a.j6,func:"create",thisisme:n,gameid:t,numPlayers:i,goal:s,nickname:c,timestamp:Date.now()})}(e,n,t,c,l,d)},children:"SUBMIT"}),(0,i.jsxs)("div",{className:"fybInputWarning",children:[!t&&(0,i.jsx)("p",{children:"Game ID is required"}),!(c>1&&c<7)&&(0,i.jsx)("p",{children:"# Players is 2-6"}),!(l>2&&l<22)&&(0,i.jsx)("p",{children:"Pts to win is 3-21"})]})]})}function d(e,n){for(var t=!1,i=0;i<e.length;i++)e[i].nickname===n&&(t=!0);return t}n.default=function(e){var n=e.setWhereto,t=e.client,d=e.thisisme,o=e.setParticipant,m=e.wsmessage,h=e.nickname,j=e.setNickname,f=e.gameid,x=e.setGameid,g=e.numPlayers,y=e.setNumPlayers,b=(0,s.useState)("Welcome!"),p=b[0],v=b[1],k=(0,s.useState)([]),N=k[0],C=k[1],P=(0,s.useState)(!1),w=P[0],_=P[1],B=(0,s.useState)(""),D=B[0],E=B[1],I=(0,s.useState)(11),G=I[0],T=I[1];return(0,s.useEffect)((function(){""!==m&&function(e){var n=JSON.parse(e);n.type===a.j6&&(n.func===a.e?n.thisisme===d?(x(n.game.gameid),y(n.game.numPlayers),o(a.oZ)):v("".concat(n.nickname," just created game ").concat(n.gameid,".")):"gameidtaken"===n.func?v("That game ID is already taken"):"gamejoined"===n.func?n.thisisme===d?(x(n.game.gameid),y(n.game.numPlayers),o(a.oZ)):v("".concat(n.nickname," just joined game ").concat(n.game.gameid,".")):"gameidunknown"===n.func?v("That game ID is not being used"):"gamefull"===n.func?v("That game is full"):"notinthatgame"===n.func?v("You are not in that game"):"otherclientfound"===n.func?v("That nickname is already in that game"):"gamelist"===n.func?C(n.gamelist):v("Unhandled message: ".concat(e)))}(m)}),[m]),(0,i.jsxs)("div",{className:"fybLobby",id:"fybLobby",children:[(0,i.jsxs)("div",{className:"fybHeaderDiv",children:[(0,i.jsx)("span",{className:"h2",children:"Fry Your Brain"}),(0,i.jsx)("button",{className:"fybHomeButton",onClick:function(){n("menu")},children:(0,i.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})]}),(0,i.jsx)("p",{children:p}),!w&&r(h,j,_),w&&c(N,t,d,h),w&&!D&&l(E),w&&"C"===D&&u(t,d,f,x,g,y,G,T,h),(0,i.jsx)("div",{className:"fivepxdivider",children:"\xa0"})]})}},4604:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fyb/lobby",function(){return t(5354)}])}},function(e){e.O(0,[774,888,179],(function(){return n=4604,e(e.s=n);var n}));var n=e.O();_N_E=n}]);