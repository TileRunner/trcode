(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{4604:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fyb/lobby",function(){return t(3371)}])},4328:function(e,n,t){"use strict";t.d(n,{j6:function(){return i},dK:function(){return s},oZ:function(){return a},e:function(){return r},hA:function(){return c},iS:function(){return l},$B:function(){return u}});var i="fyb",s="U",a="P",r="GAME_DATA",c="GAME_LIST",l="CHAT_DATA",u=2e4},1484:function(e,n,t){"use strict";t.r(n);var i=t(5893),s=t(7294),a=t(5697),r=t.n(a),c=t(4328),l=function(e){var n=e.client,t=e.thisisme,a=e.nickname,r=e.gameid,l=e.setGameid,u=(0,s.useState)(2),d=u[0],m=u[1],o=(0,s.useState)(11),h=o[0],f=o[1],j=(0,s.useState)(!0),g=j[0],x=j[1];return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"trSubtitle",children:"Create Game"}),(0,i.jsx)("div",{className:"trOptionsDiv",children:(0,i.jsx)("div",{className:g?"trCheckbox On":"trCheckbox Off",onClick:function(){x(!g)},"data-toggle":"tooltip",title:"Whether guess must be valid words",children:(0,i.jsx)("label",{children:"Guesses must be valid words"})})}),(0,i.jsx)("table",{className:"trTable",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("label",{children:"Game ID:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",name:"gameid",value:r,onChange:function(e){l(e.target.value)}})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("label",{children:"# Players:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"number",name:"numPlayers",value:d,onChange:function(e){m(e.target.value)}})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("label",{children:"Pts to win:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"number",name:"goal",value:h,onChange:function(e){f(e.target.value)}})})]})]})}),r&&d>1&&d<7&&h>2&&h<22&&(0,i.jsx)("button",{className:"trButton",id:"requestCreateGame",type:"submit",onClick:function(){var e=r.trim();l(e),n.send({type:c.j6,func:"create",thisisme:t,gameid:r,numPlayers:d,goal:h,nickname:a,timestamp:Date.now(),validOnly:g})},children:"SUBMIT"}),!r&&(0,i.jsx)("div",{className:"trWarning",children:"Game ID is required"}),!(d>1&&d<7)&&(0,i.jsx)("div",{className:"trWarning",children:"# Players is 2-6"}),!(h>2&&h<22)&&(0,i.jsx)("div",{className:"trWarning",children:"Pts to win is 3-21"})]})};l.propTypes={client:r().any,thisisme:r().string.isRequired,nickname:r().string.isRequired,gameid:r().string.isRequired,setGameid:r().func.isRequired},n.default=l},3371:function(e,n,t){"use strict";t.r(n);var i=t(5893),s=t(7294),a=t(5697),r=t.n(a),c=t(4328),l=t(1484),u=function(e){var n=e.setWhereto,t=e.client,a=e.thisisme,r=e.setParticipant,u=e.wsmessage,h=e.nickname,f=e.setNickname,j=e.gameid,g=e.setGameid,x=(0,s.useState)("Welcome!"),p=x[0],v=x[1],b=(0,s.useState)([]),y=b[0],k=b[1],N=(0,s.useState)(!1),C=N[0],P=N[1],T=(0,s.useState)(""),w=T[0],G=T[1];return(0,s.useEffect)((function(){""!==u&&function(e){var n=JSON.parse(e);if(n.type===c.j6){if(n.func===c.iS)return;n.func===c.hA?k(n.gamelist):n.func===c.e?n.thisisme===a?(g(n.game.gameid),v(n.snat),r(c.oZ)):v("Why am I getting game data from ".concat(n.nickname," for game ").concat(n.gameid,"?")):"gameidtaken"===n.func?v("That game ID is already taken"):"gameidunknown"===n.func?v("That game ID is not being used"):"gamefull"===n.func?v("That game is full"):"notinthatgame"===n.func?v("You are not in that game"):"otherclientfound"===n.func?v("That nickname is already in that game"):v("Unhandled message: ".concat(e))}}(u)}),[u]),(0,i.jsxs)("div",{className:"trBackground",id:"fybLobby",children:[(0,i.jsxs)("div",{className:"trTitle",children:["Fry Your Brain",(0,i.jsx)("button",{className:"trButton",onClick:function(){n("menu")},children:(0,i.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})]}),(0,i.jsx)("div",{className:"trParagraph",children:(0,i.jsx)("label",{children:p})}),!C&&m(h,f,P),C&&y&&y.length>0&&d(y,t,a,h),C&&!w&&o(G),C&&"C"===w&&(0,i.jsx)(l.default,{client:t,thisisme:a,nickname:h,gameid:j,setGameid:g}),(0,i.jsx)("div",{className:"fivepxdivider",children:"\xa0"})]})};function d(e,n,t,s){return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"trParagraph",children:"Game List:"}),(0,i.jsxs)("table",{className:"trTable",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"ID"}),(0,i.jsx)("th",{children:"Ppl"}),(0,i.jsx)("th",{children:"Pts"}),(0,i.jsx)("th",{children:"By"}),(0,i.jsx)("th",{children:"State"})]})}),(0,i.jsx)("tbody",{children:e.map((function(e,a){return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.gameid}),(0,i.jsxs)("td",{children:[e.players.length,"/",e.numPlayers]}),(0,i.jsx)("td",{children:e.goal}),(0,i.jsx)("td",{children:e.players[0].nickname}),(0,i.jsx)("td",{children:h(e.players,s)?(0,i.jsx)("button",{className:"trButton",type:"submit",onClick:function(){!function(e,n,t,i){e.send({type:c.j6,func:"rejoin",thisisme:n,gameid:t,nickname:i,timestamp:Date.now()})}(n,t,e.gameid,s)},children:"REJOIN"},"rejoinButton".concat(a)):e.players.length<e.numPlayers?(0,i.jsx)("button",{className:"trButton",type:"submit",onClick:function(){!function(e,n,t,i){e.send({type:c.j6,func:"join",thisisme:n,gameid:t,nickname:i,timestamp:Date.now()})}(n,t,e.gameid,s)},children:"JOIN"},"joinButton".concat(a)):"In progress"})]},"gamelist".concat(a))}))})]})]})}function m(e,n,t){return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"trParagraph",children:[(0,i.jsx)("label",{children:"Nickname:"}),(0,i.jsx)("input",{type:"text",name:"nickname",value:e,onChange:function(e){n(e.target.value)}})]}),e&&(0,i.jsx)("div",{children:(0,i.jsx)("button",{className:"trButton",type:"submit",onClick:function(){var i=e.trim();n(i),t(!0)},children:"SUBMIT"})})]})}function o(e){return(0,i.jsx)("div",{children:(0,i.jsx)("button",{className:"trButton",type:"submit",id:"chooseCreateGame",onClick:function(){e("C")},children:"CREATE A GAME"})})}function h(e,n){for(var t=!1,i=0;i<e.length;i++)e[i].nickname===n&&(t=!0);return t}u.propTypes={setWhereto:r().func.isRequired,client:r().any,thisisme:r().string.isRequired,setParticipant:r().func.isRequired,wsmessage:r().string.isRequired,nickname:r().string.isRequired,setNickname:r().func.isRequired,gameid:r().string.isRequired,setGameid:r().func.isRequired},n.default=u}},function(e){e.O(0,[774,888,179],(function(){return n=4604,e(e.s=n);var n}));var n=e.O();_N_E=n}]);