(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{4339:function(e,n,s){"use strict";s.d(n,{j6:function(){return r},dK:function(){return a},oZ:function(){return t},e:function(){return i},dY:function(){return c},$B:function(){return o}});var r="fyb",a="U",t="P",i="GAME_DATA",c="GAME_CREATED",o=2e4},1863:function(e,n,s){"use strict";s.r(n);var r=s(5893),a=s(7294),t=s(4339);function i(e,n,s,a,i,o,l,d,u){return(0,r.jsxs)("div",{className:"w3-quarter w3-margin",onKeyDownCapture:e,children:[(0,r.jsx)("label",{children:"Enter Word:"}),(0,r.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"text",name:"word",value:n,onChange:function(e){s(e.target.value.toUpperCase())}}),n&&(0,r.jsx)("button",{className:"w3-button w3-green w3-margin",onClick:function(){c(n,a,i,o,l,d,u,s)},children:"SUBMIT"},"submitWord"),(0,r.jsx)("button",{className:"w3-button w3-red w3-margin",onClick:function(){!function(e,n,s,r,a,i){e("Sending PASS ... shouldn't take long."),n.send({type:t.j6,func:"move",pass:!0,valid:!1,thisisme:s,gameid:r,nickname:a,timestamp:Date.now(),word:""}),i("")}(i,o,l,d,u,s)},children:"PASS"},"passButton")]})}function c(e,n,s,r,a,i,c,o){for(var l=0;l<n.length;l++){for(var d=0,u=0,m=0;m<n.length;m++)n[l]===n[m]&&(d+=1);for(var h=0;h<e.length;h++)n[l]===e[h]&&(u+=1);if(u<d)return void s("You need the letter ".concat(n[l]," at least ").concat(d," time").concat(1===d?".":"s."))}s("Checking your word ... shouldn't take long."),r.send({type:t.j6,func:"move",pass:!1,thisisme:a,gameid:i,nickname:c,timestamp:Date.now(),word:e}),o("")}n.default=function(e){var n=e.setWhereto,s=e.client,o=e.thisisme,l=e.wsmessage,d=e.nickname,u=e.gameid,m=(0,a.useState)(""),h=m[0],w=m[1],f=(0,a.useState)({goal:99,whoseturn:-1,players:[{index:0,nickname:"Loading..."}]}),p=f[0],v=f[1],j=(0,a.useState)(""),x=j[0],g=j[1],y=(0,a.useState)(""),N=y[0],k=y[1];(0,a.useEffect)((function(){var e=setInterval((function(){p.whoseturn>-1&&p.players.length>0&&s.send({type:t.j6,func:"interval",syncstamp:N,thisisme:o,nickname:d,gameid:p.gameid})}),t.$B);return function(){return clearInterval(e)}})),(0,a.useEffect)((function(){""!==l&&function(e){var n=JSON.parse(e);n.type===t.j6&&(n.func===t.e?(w(n.snat),v(n.game),k(n.game.syncstamp)):w("Unhandled message: ".concat(e)))}(l)}),[l]);var b=function(){if(p.whoseturn<0)return!1;if(p.freeforall){if(p.excludedPlayer===d)return!1;for(var e=0;e<p.playersWhoMoved.length;e++)if(p.playersWhoMoved[e].nickname===d)return!1;return!0}return d===p.players[p.whoseturn].nickname};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"w3-teal w3-cell-row",children:[(0,r.jsx)("div",{className:"w3-container w3-cell w3-cell-middle w3-padding w3-mobile",children:(0,r.jsx)("h1",{className:"myHeadingFont",children:"Fry Your Brain"})}),(0,r.jsxs)("div",{className:"w3-container w3-cell w3-mobile",children:[(0,r.jsxs)("h4",{className:"myCommonFont",children:["Game id: ",u]}),(0,r.jsxs)("h4",{className:"myCommonFont",children:["First to ",p.goal]})]}),(0,r.jsx)("div",{className:"w3-container w3-cell w3-padding w3-mobile",children:(0,r.jsx)("button",{className:"w3-button",onClick:function(){n("menu")},children:(0,r.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})})]}),(0,r.jsx)("div",{className:"w3-container w3-responsive w3-quarter",children:(0,r.jsxs)("table",{className:"w3-table w3-card",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"w3-black",children:[(0,r.jsx)("th",{children:"Player"}),(0,r.jsx)("th",{children:"Points"})]})}),(0,r.jsx)("tbody",{children:p.players.map((function(e){return(0,r.jsxs)("tr",{className:"w3-green",children:[(0,r.jsx)("td",{children:e.nickname}),(0,r.jsxs)("td",{class:"w3-monospace",children:["\xa0\xa0",e.points<10?(0,r.jsx)("span",{children:"\xa0"}):"",e.points,e.points>=p.goal&&(0,r.jsx)("span",{class:"w3-purple w3-cursive w3-margin w3-wide",children:"Winner!"})]})]},"Player".concat(e.index))}))})]})}),!p.freeforall&&p.playersWhoMoved&&p.playersWhoMoved.length>0&&(0,r.jsxs)("div",{class:"w3-container",children:[(0,r.jsx)("h2",{children:"Previous free for all results:"}),p.playersWhoMoved.map((function(e){return(0,r.jsx)("p",{children:e.pass?(0,r.jsxs)("span",{children:[e.nickname," passed"]}):e.valid?(0,r.jsxs)("span",{children:[e.nickname," fried ",(0,r.jsx)("span",{className:"w3-green",children:e.word})]}):(0,r.jsxs)("span",{children:[e.nickname," miscooked ",(0,r.jsx)("span",{className:"w3-red",children:e.word})]})},"PlayerWhoMovedFFA".concat(e.nickname))}))]}),p.movesThisRound&&p.movesThisRound.length>0&&(0,r.jsxs)("div",{className:"w3-container",children:[(0,r.jsx)("h2",{children:"Moves this round:"}),p.movesThisRound.map((function(e,n){return(0,r.jsxs)("span",{children:[n>0&&(0,r.jsx)("span",{children:",\xa0"}),e.pass?(0,r.jsxs)("span",{className:"w3-red",children:[e.nickname," passed"]}):(0,r.jsx)("span",{className:"".concat(e.valid?"":"w3-red"),children:e.word})]},"PlayerWhoMovedThisRound".concat(e.nickname))}))]}),p.fryLetters&&p.whoseturn>-1&&(0,r.jsx)("div",{className:"w3-container",children:(0,r.jsxs)("h2",{className:"w3-white w3-quarter",children:["Fry Letters: ",p.fryLetters]})}),b()&&i((function(e){if(b())return"Enter"===e.key?(e.preventDefault(),void c(x,p.fryLetters,w,s,o,u,d,g)):void 0}),x,g,p.fryLetters,w,s,o,u,d),(0,r.jsx)("div",{className:"w3-container",children:(0,r.jsx)("p",{children:h})})]})}},1313:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fyb/game",function(){return s(1863)}])}},function(e){e.O(0,[774,888,179],(function(){return n=1313,e(e.s=n);var n}));var n=e.O();_N_E=n}]);