"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{6298:function(e,n,t){t.d(n,{D:function(){return r}});var i=t(7294);function r(e){var n=(0,i.useRef)();return(0,i.useEffect)((function(){n.current=e})),n.current}},4577:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var i=t(4051),r=t.n(i),s=t(5893),a=t(7294),c=t(5697),o=t.n(c),l=t(3689),u=t(6300),p=t(149),d=t(4471),f=t(6260),m=t(5079),h=t(7554),v=t(1130);function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(e.length-1)/2,t=2*n,i=n,r=!0;return e[0][0].usedby!==h.i4&&e[0][i].usedby!==h.i4&&e[0][t].usedby!==h.i4&&e[i][0].usedby!==h.i4&&e[i][t].usedby!==h.i4&&e[t][0].usedby!==h.i4&&e[t][i].usedby!==h.i4&&e[t][t].usedby!==h.i4&&(r=!1),r}var b=t(7908);var g=t(3836),x=t(6298);function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function w(e,n,t,i,r,s,a){try{var c=e[s](a),o=c.value}catch(l){return void t(l)}c.done?n(o):Promise.resolve(o).then(i,r)}function j(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var s=e.apply(n,t);function a(e){w(s,i,r,a,c,"next",e)}function c(e){w(s,i,r,a,c,"throw",e)}a(void 0)}))}}function N(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return k(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e){var n=e.setWhereto,t=e.isrejoin,i=e.participant,c=e.gameid,o=e.nickname,k=void 0===o?"":o,w=e.wsmessage,S=e.client,A=e.racksize,T=void 0===A?4:A,R=function(){ie(-1),Ae(!1),he([-1,-1,h.QY]),le([])},O=function(e){var n=JSON.parse(e);if(n.gameid===c&&"pb"===n.type){if(Ie("Getting message: func=".concat(n.func)),"providegamedata"===n.func){var t=function(e){for(var n=e.events.length-1,t=e.events[n],i="",r="",s="",a=(0,v.$)(e.racksize),c=[],o=0,l=0;l<e.events.length;l++){var u=e.events[l];if(u.ptiles&&(i=u.ptiles),u.gtiles&&(r=u.gtiles),"STARTGAME"!==u.type&&u.type!==h.bS&&u.type!==h.Ix||(s=u.tiles),u.type===h.bS||u.type===h.Ix||u.type===h.Am){var p={by:u.by,type:u.type};if(u.type===h.bS){p.mainword=u.mainword,p.extrawords=u.extrawords.split(","),p.pos=u.pos,u.by===h.ap&&(o=u.rescues);for(var d=(0,b.F)(u.pos),f=d.row,m=d.col,y=0;y<u.mainword.length;y++){var g=a[f][m];g.usedby===h.i4&&(g.usedby=u.by,g.letter=u.mainword[y]),d.dir===h.oW?m++:f++}}c.push(p)}}return{pname:e.pname,gname:e.gname,syncstamp:t.timestamp,tiles:s.split(""),squareArray:a,ptiles:i.split(""),gtiles:r.split(""),whoseturn:t.whoseturn,moves:c,rescues:o,racksize:e.racksize,allowRewind:!1}}(n.apidata);D(t.syncstamp),i===h.ap?Oe(t.gname):i===h.b6&&Oe(t.pname),L(t.tiles),ee(t.squareArray),H(t.ptiles),K(t.gtiles),ae(t.whoseturn);var r={squareArray:JSON.parse(JSON.stringify(t.squareArray)),ptiles:N(t.ptiles),gtiles:N(t.gtiles)};ke(r),be(t.moves),de(t.rescues),Ae(t.allowRewind),R()}if("providegname"===n.func&&i===h.Ji&&Oe(n.gname),"allowundo"===n.func&&Ae(!0),"chat"===n.func){var s=N(Be).concat([{created:n.created,from:n.nickname,msg:n.sendmsg}]);Ee(s)}"providesyncdata"===n.func&&n.syncstamp!==M&&(console.log("Out of sync - requesting latest game data"),Ve())}},q=function(){for(var e=!0,n=ye.length,t=0;e&&t<n;++t)ye[t].type===h.bS&&(e=!1);if(e&&V[U][U].usedby===h.i4)return window.alert("First play must hit center square"),!1;if(0===oe.length)return window.alert("You didn't play any tiles"),!1;for(var i=oe.length,r=Q+1,s=-1,a=Q+1,c=-1,o=0;o<i;++o){var l=parseInt(oe[o].split("-")[0]),u=parseInt(oe[o].split("-")[1]);if(l<r&&(r=l),l>s&&(s=l),u<a&&(a=u),u>c&&(c=u),!(l>0&&V[l-1][u].usedby!==h.i4)&&!(u>0&&V[l][u-1].usedby!==h.i4)&&!(l<Q&&V[l+1][u].usedby!==h.i4)&&!(u<Q&&V[l][u+1].usedby!==h.i4))return window.alert("Each played tile must be part of a word"),!1}if(r!==s&&a!==c)return window.alert("Tiles played must be in a straight line"),!1;for(var p=!1,d=!1,f=r;f<=s;++f)for(var m=a;m<=c;++m){if(V[f][m].usedby===h.i4)return window.alert("There is a gap in your word"),!1;if(!e){var v=f+"-"+m;oe.indexOf(v)<0&&(p=!0),r===s&&f>0&&V[f-1][m].usedby!==h.i4&&(d=!0),r===s&&f<Q&&V[f+1][m].usedby!==h.i4&&(d=!0),a===c&&m>0&&V[f][m-1].usedby!==h.i4&&(d=!0),a===c&&m<Q&&V[f][m+1].usedby!==h.i4&&(d=!0)}}return!!(e||(r===s&&a>0&&V[r][a-1].usedby!==h.i4&&(p=!0),r===s&&c<Q&&V[r][c+1].usedby!==h.i4&&(p=!0),a===c&&r>0&&V[r-1][a]!==h.i4&&(p=!0),a===c&&s<Q&&V[s+1][a].usedby!==h.i4&&(p=!0),p||d))||(window.alert("New words must extend an existing word and/or hook existing words or tiles"),!1)},B=function(){Ce||(Ae(!0),Fe({gameid:c,type:"pb",func:"allowundo",sender:i}))},E=function(){Fe({gameid:c,type:"pb",func:"undoturn"})},P=(0,a.useState)(["Hello. This space is for debugging messages."]),J=P[0],F=P[1],I=(0,a.useState)(""),M=I[0],D=I[1],U=T,Q=2*T,_=6===T?h.L8:7===T?h.Qt:5===T?h.Cr:h.fl,Y=(0,a.useState)(N(_)),G=Y[0],L=Y[1],W=(0,a.useState)([]),X=W[0],H=W[1],z=(0,a.useState)([]),$=z[0],K=z[1],Z=(0,a.useState)([]),V=Z[0],ee=Z[1],ne=(0,a.useState)(-1),te=ne[0],ie=ne[1],re=(0,a.useState)(h.kX),se=re[0],ae=re[1],ce=(0,a.useState)([]),oe=ce[0],le=ce[1],ue=(0,a.useState)(0),pe=ue[0],de=ue[1],fe=(0,a.useState)([-1,-1,h.QY]),me=fe[0],he=fe[1],ve=(0,a.useState)([]),ye=ve[0],be=ve[1],ge=(0,a.useState)({squareArray:[],ptiles:[],gtiles:[]}),xe=ge[0],ke=ge[1],we=(0,a.useState)(0),je=we[0],Ne=we[1],Se=(0,a.useState)(!1),Ce=Se[0],Ae=Se[1],Te=(0,a.useState)(""),Re=Te[0],Oe=Te[1],qe=(0,a.useState)([]),Be=qe[0],Ee=qe[1],Pe=(0,x.D)(pe);(0,a.useEffect)((function(){Je()}),[]),(0,a.useEffect)((function(){""!==w&&O(w)}),[w]),(0,a.useEffect)((function(){(0,g.O)("ScrollableMoves")}),[ye]),(0,a.useEffect)((function(){(0,g.O)("ScrollableChat")}),[Be]),(0,a.useEffect)((function(){(0,g.O)("ScrollableSnats")}),[J]),(0,a.useEffect)((function(){if(pe>Pe){var e=document.createElement("audio");e.src=i===h.b6?"https://tilerunner.github.io/OneGotAway.m4a":"https://tilerunner.github.io/yippee.m4a",e.play()}}),[pe]),(0,a.useEffect)((function(){var e=je+1;e>=h._W.length&&(e=0),Ne(e)}),[se]),(0,a.useEffect)((function(){var e=setInterval((function(){i!==se&&se!==h.Bd&&en()}),h.$B);return function(){return clearInterval(e)}}));var Je=function(){var e=(0,v.$)(T);ee(e),t?Ue():i===h.ap?Me(e):i===h.b6?De():Qe()},Fe=function(e){Ie("Sending message: func=".concat(e.func)),S.send(e)},Ie=function(e){var n=N(J),t=new Date,i=t.getHours(),r=t.getMinutes(),s=t.getSeconds(),a="".concat(i<10?"0":"").concat(i,":").concat(r<10?"0":"").concat(r,":").concat(s<10?"0":"").concat(s);n.push("".concat(a,": ").concat(e)),F(n)},Me=function(e){for(var n=Date.now(),t=[],r=[],s=N(_);t.length<T;){var a=Math.floor(Math.random()*s.length);t.push(s[a]),s.splice(a,1),a=Math.floor(Math.random()*s.length),r.push(s[a]),s.splice(a,1)}t.sort(),r.sort(),D(n),K(r),H(t),L(s),ke({squareArray:e,ptiles:N(t),gtiles:N(r)}),Fe({type:"pb",func:"startgame",gameid:c,timestamp:n,racksize:T,sender:i,pname:k,tiles:s,ptiles:t,gtiles:r})},De=function(){Fe({gameid:c,gname:k,type:"pb",func:"joingame",sender:i})},Ue=function(){Fe({gameid:c,type:"pb",func:"rejoingame",sender:i})},Qe=function(){Fe({gameid:c,type:"pb",func:"startObserving"})},_e=function(e,n,t,i){var r=JSON.parse(JSON.stringify(V)),s=N(r[e]),a=s[n],c=N(X),o=N($),l=N(oe),u=String(e)+"-"+String(n),p=oe.indexOf(u);if(-1===t&&(t=te,i=me),t>-1&&a.usedby===h.i4){var d=se===h.kX?c[t]:o[t];return a.letter=d,a.usedby=se,s[n]=a,r[e]=N(s),se===h.kX?c.splice(t,1):o.splice(t,1),se===h.kX&&t===c.length&&(t-=1),se===h.Ov&&t===o.length&&(t-=1),ie(t),ee(r),H(c),K(o),le(N(oe).concat([u])),void he(i)}if(p>-1)return se===h.kX?c.push(a.letter):o.push(a.letter),a.usedby=h.i4,a.letter=h.GP,s[n]=a,r[e]=N(s),ie(se===h.kX?c.length-1:o.length-1),l.splice(p,1),ee(r),H(c),K(o),le(l),void he([-1,-1,h.QY]);if(a.usedby!==h.i4);else{var f=me[0]!==e||me[1]!==n?h.oW:me[2]===h.oW?h.ik:me[2]===h.ik?h.QY:h.oW;he(i=[e,n,f])}},Ye=function(e){if(i!==h.qg)if(-1!==te)if(te!==e){var n=i===h.ap?N(X):N($),t=te,r=n[t],s=e;n.splice(t,1),n.splice(s,0,r),i===h.ap?H(n):K(n),ie(-1)}else ie(-1);else ie(e)};function Ge(){return Le.apply(this,arguments)}function Le(){return(Le=j(r().mark((function e(){var n,t,s,a,o,l,u,p,d,f,m,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Xe();case 4:if(0===(n=e.sent).invalidwords.length){e.next=8;break}return alert("Invalid according to ENABLE2K lexicon: ".concat(n.invalidwords.join().replace(".","?").toUpperCase())),e.abrupt("return");case 8:if(t=pe,i===h.ap)for(s=["0-0","0-"+U,"0-"+Q,U+"-0",U+"-"+Q,Q+"-0",Q+"-"+U,Q+"-"+Q],a=0;a<oe.length;a++)s.indexOf(oe[a])>-1&&(t+=1);for(o=i===h.ap?N(X):N($),l=N(G);o.length<T&&l.length>0;)u=Math.floor(Math.random()*l.length),o.push(l[u]),l.splice(u,1);o.sort(),p=0===o.length?h.Bd:i===h.ap?h.Ov:h.ap,y(V)||(p=h.Bd),d={by:i,type:h.bS,mainword:n.mainword,extrawords:n.extrawords,pos:n.pos},f=N(ye).concat([d]),m=Date.now(),R(),D(m),ae(p),i===h.ap?H(o):K(o),L(l),be(f),de(t),ke({squareArray:JSON.parse(JSON.stringify(V)),ptiles:i===h.ap?N(o):N(X),gtiles:i===h.ap?N($):N(o)}),v={gameid:c,type:"pb",func:i===h.ap?"ept":"egt",timestamp:m,sender:i,ptiles:o,tiles:l,whoseturn:p,move:d,rescues:t},i===h.ap?v.ptiles=o:v.gtiles=o,Fe(v);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var We=function(){if(G.length<T)window.alert("Need "+T+" tiles in the bag to exchange");else{Ie("Swapping rack.");for(var e=[],n=N(G);e.length<T&&n.length>0;){var t=Math.floor(Math.random()*n.length);e.push(n[t]),n.splice(t,1)}e.sort(),(n=i===h.ap?N(n).concat(N(xe.ptiles)):N(n).concat(N(xe.gtiles))).sort();var r={by:i,type:h.Ix},s=N(ye).concat([r]),a=Date.now();R(),D(a),ee(JSON.parse(JSON.stringify(xe.squareArray))),ae(i===h.ap?h.Ov:h.kX),i===h.ap?H(e):K(e),L(n),be(s),ke({squareArray:JSON.parse(JSON.stringify(xe.squareArray)),ptiles:i===h.ap?N(e):N(X),gtiles:i===h.ap?N($):N(e)});var o={gameid:c,type:"pb",func:i===h.ap?"ept":"egt",timestamp:a,sender:i,whoseturn:h.Ov,tiles:n,move:r};i===h.ap?o.ptiles=e:o.gtiles=e,Fe(o)}};function Xe(){return He.apply(this,arguments)}function He(){return(He=j(r().mark((function e(){var n,t,i,s,a,c,o,l,u,p,d,f,m,v,y,b,g,x,k,w,j,S,C,A,T,R,O,q,B,E,P;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n={},t="",i=[],s="",a=Q+1,c=-1,o=Q+1,l=-1,u=oe.length,p=0;p<u;++p)d=parseInt(oe[p].split("-")[0]),f=parseInt(oe[p].split("-")[1]),d<a&&(a=d),d>c&&(c=d),f<o&&(o=f),f>l&&(l=f);if(a<c||1===u){for(m=o,v=a;v>0&&V[v-1][m].usedby!==h.i4;)v-=1;for(y=c;y<Q&&V[y+1][m].usedby!==h.i4;)y+=1;for(s=h.v8[m]+h.RH[v],b=v;b<=y;++b)if(t+=V[b][m].letter,g=b+"-"+m,oe.indexOf(g)>-1){for(x=m;x>0&&V[b][x-1].usedby!==h.i4;)x-=1;for(k=m;k<Q&&V[b][k+1].usedby!==h.i4;)k+=1;if(x<k){for(w="",j=x;j<=k;++j)w+=V[b][j].letter;i=N(i).concat([w])}}}if(t.length<2){for(S=a,C=o;C>0&&V[S][C-1].usedby!==h.i4;)C-=1;for(A=l;A<Q&&V[S][A+1].usedby!==h.i4;)A+=1;for(s=h.RH[S]+h.v8[C],t="",i=[],T=C;T<=A;++T)if(t+=V[S][T].letter,R=S+"-"+T,oe.indexOf(R)>-1){for(O=S;O>0&&V[O-1][T].usedby!==h.i4;)O-=1;for(q=S;q<Q&&V[q+1][T].usedby!==h.i4;)q+=1;if(O<q){for(B="",E=O;E<=q;++E)B+=V[E][T].letter;i=N(i).concat([B])}}}return e.next=16,ze(t,i);case 16:return P=e.sent,n={mainword:t,extrawords:i,pos:s,invalidwords:P},e.abrupt("return",n);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e,n){return $e.apply(this,arguments)}function $e(){return($e=j(r().mark((function e(n,t){var i,s,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,t.forEach((function(e){i=i+","+e})),"https://tilerunner.herokuapp.com/ENABLE2K?validate=",e.next=5,fetch("https://tilerunner.herokuapp.com/ENABLE2K?validate="+i.toLocaleLowerCase());case 5:return s=e.sent,e.next=8,s.json();case 8:return a=e.sent,e.abrupt("return",a.invalidwords);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ke=function(){ee(JSON.parse(JSON.stringify(xe.squareArray))),H(N(xe.ptiles)),K(N(xe.gtiles)),ie(-1),le([]),he([-1,-1,h.QY])},Ze=function(){var e={by:i,type:h.Am},n=N(ye).concat([e]),t=function(e){var n=e.length-1,t=n-1;return t>-1&&e[t].type===h.Am&&e[n].type===h.Am}(n)?h.Bd:i===h.ap?h.Ov:h.kX,r=Date.now();Ke(),R(),D(r),ae(t),be(n),Fe({gameid:c,type:"pb",func:i===h.ap?"ept":"egt",timestamp:r,sender:i,whoseturn:t,move:e})},Ve=function(){Fe({gameid:c,type:"pb",sender:i,func:"requestgamedata",syncstamp:M})},en=function(){Fe({gameid:c,type:"pb",sender:i,func:"requestsyncdata"})};return(0,s.jsxs)("div",{className:"prisonbreak",children:[(0,s.jsxs)("div",{className:"w3-display-container w3-teal topBarHeight",children:[(0,s.jsx)("div",{className:"w3-display-middle",children:(0,s.jsx)("h1",{className:"myHeadingFont",children:"Prison Break"})}),(0,s.jsxs)("div",{className:"w3-display-topleft w3-black topBarCorner commonFontFamily",children:["Game id: ",c]}),(0,s.jsxs)("div",{className:"w3-display-bottomleft w3-orange topBarCorner commonFontFamily",children:["Prisoners: ",i===h.ap?k:i===h.b6?Re:"Secret"]}),(0,s.jsx)("div",{className:"w3-display-topright w3-black topBarCorner commonFontFamily",children:(0,s.jsx)("button",{className:"w3-button",onClick:function(){n("menu")},children:(0,s.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})}),(0,s.jsxs)("div",{className:"w3-display-bottomright w3-orange topBarCorner commonFontFamily",children:["Guards: ",i===h.ap?Re:i===h.b6?k:"Secret"]})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"col pbTileAndMovesOuter",children:[(0,s.jsx)(p.default,{tiles:G,othertiles:i===h.ap?$:i===h.b6?X:[]}),(0,s.jsx)(d.default,{moves:ye,onmoveclick:function(e){}})]}),(0,s.jsx)("div",{className:"col pbPlayerOuterSection",children:i===h.ap?(0,s.jsx)(l.default,{racktiles:X,whoseturn:se,selection:te,onClick:function(e){return Ye(e)},onClickFinishTurn:function(){return Ge()},onClickTileRecall:function(){return Ke()},onClickTileExchange:function(){return We()},onClickPassPlay:function(){return Ze()},onClickUndoLastPlay:function(){return E()},onClickAllowUndo:function(){return B()},participant:i,moves:ye,allowRewind:Ce}):i===h.b6?(0,s.jsx)(l.default,{racktiles:$,whoseturn:se,selection:te,onClick:function(e){return Ye(e)},onClickFinishTurn:function(){return Ge()},onClickTileRecall:function(){return Ke()},onClickTileExchange:function(){return We()},onClickPassPlay:function(){return Ze()},onClickUndoLastPlay:function(){return E()},onClickAllowUndo:function(){return B()},participant:i,moves:ye,allowRewind:Ce}):(0,s.jsxs)("div",{className:"pbPlayerInnerSection",children:[(0,s.jsxs)("div",{className:"pbPlayerTitle",children:[(0,s.jsx)("i",{className:"material-icons",children:h._k}),"\xa0",h.Ji,"\xa0",(0,s.jsx)("i",{className:"material-icons",children:h._k})]}),(0,s.jsx)("div",{className:"pbTilerack",children:X&&X.map((function(e,n){return(0,s.jsx)(C,{participant:"P",tilevalue:e,tileindex:n},"ObserverPrisonersRackTile".concat(n))}))}),(0,s.jsxs)("div",{className:"pbPlayerTitle",children:[(0,s.jsx)("i",{className:"material-icons",children:h.g9}),"\xa0",h.jN,"\xa0",(0,s.jsx)("i",{className:"material-icons",children:h.g9})]}),(0,s.jsx)("div",{className:"pbTilerack",children:$&&$.map((function(e,n){return(0,s.jsx)(C,{participant:"G",tilevalue:e,tileindex:n},"ObserverGuardsRackTile".concat(n))}))})]})}),(0,s.jsx)("div",{className:"col",children:i===se?(0,s.jsx)("div",{className:"row",onKeyDownCapture:function(e){if(e.preventDefault(),i===se)if("Enter"!==e.key)if("Escape"!==e.key){if(e.key.match(/^[A-Za-z\?]$/)){var n=e.key.toUpperCase(),t=se===h.kX?X:$,r=t.indexOf(n);if(-1===r&&(r=t.indexOf("?")),r>-1){var s=me[0],a=me[1],c=me[2];if(s>-1&&a>-1&&c!==h.QY){var o=me;if(c===h.oW){for(var l=-1,u=a+1;u<Q+1&&-1===l;u++)V[s][u].usedby===h.i4&&(l=u);return o=-1===l?[-1,-1,h.QY]:[s,l,h.oW],_e(s,a,r,o),void ie(-1)}if(c===h.ik){for(var p=-1,d=2*T+1,f=s+1;f<d&&-1===p;f++)V[f][a].usedby===h.i4&&(p=f);return o=-1===p?[-1,-1,h.QY]:[p,a,h.ik],_e(s,a,r,o),void ie(-1)}}}}else if("Backspace"===e.key&&oe.length>0){var m=oe[oe.length-1],v=parseInt(m.split("-")[0]),y=parseInt(m.split("-")[1]),b=N(oe),g=N(X),x=N($),k=JSON.parse(JSON.stringify(V)),w=k[v],j=w[y],S=[-1,-1,h.QY],C=te;b.splice(oe.length-1,1);var A=V[v][y].letter;se===h.kX?(g.push(A),C=g.length-1):(x.push(A),C=x.length-1),j.usedby=h.i4,j.letter=h.GP,w[y]=j,k[v]=N(w);var R=me[2];R!==h.QY&&(S=[v,y,R],1===oe.length&&(C=-1)),le(b),K(x),H(g),ee(k),he(S),ie(C)}}else Ke();else Ge()},children:(0,s.jsx)(u.default,{squareArray:V,rcd:me,onClick:function(e,n){return _e(e,n,-1,null)}})}):(0,s.jsx)("div",{className:"row",children:(0,s.jsx)(u.default,{squareArray:V,rcd:me,onClick:function(){}})})}),(0,s.jsxs)("div",{className:"col",children:[(0,s.jsx)(f.default,{rescues:pe}),(0,s.jsx)(m.default,{gameid:c,client:S,nickname:k,msgs:Be,setMsgs:Ee,participant:i})]})]}),(0,s.jsx)("div",{className:"w3-display-container w3-teal topBarHeight",children:(0,s.jsx)("div",{className:"w3-display-middle commonFontFamily",children:se===h.Bd?(0,s.jsx)("h1",{children:"Game Over!"}):(0,s.jsx)("p",{children:h._W[je]})})}),k&&k.length>3&&"TEST"===k.toUpperCase().substring(0,4)&&(0,s.jsx)("div",{id:"ScrollableSnats",className:"pbSnatDiv",children:J.map((function(e,n){return(0,s.jsx)("p",{className:"pbSnat",children:e},"snat".concat(n))}))})]})};S.propTypes={setWhereto:o().func.isRequired,isrejoin:o().bool.isRequired,participant:o().string.isRequired,gameid:o().string.isRequired,nickname:o().string.isRequired,wsmessage:o().string.isRequired,client:o().any,racksize:o().number.isRequired};var C=function(e){var n="pbTileOnRack Unselected "+("Q"===e.tilevalue?"u ":"")+e.participant;return(0,s.jsx)("div",{className:n,children:(0,s.jsx)("div",{className:"pbTileOnRackText",children:e.tilevalue})},e.tileindex)};C.propTypes={tilevalue:o().string.isRequired,participant:o().string.isRequired,tileindex:o().number.isRequired};var A=S},3689:function(e,n,t){t.r(n);var i=t(5893),r=(t(7294),t(5697)),s=t.n(r),a=t(7554),c=function(e){var n=e.participant===a.ap?a._k:a.g9,t=e.participant===a.ap?a.Ji:a.jN;return(0,i.jsxs)("div",{className:"pbPlayerInnerSection",children:[(0,i.jsxs)("div",{className:"pbPlayerTitle",children:[(0,i.jsx)("i",{className:"material-icons",children:n}),"\xa0",t,"\xa0",(0,i.jsx)("i",{className:"material-icons",children:n})]}),(0,i.jsx)("div",{className:"pbTilerack",children:e.racktiles&&e.racktiles.map((function(n,t){return(0,i.jsx)(o,{whoseturn:e.whoseturn,participant:e.participant,selection:e.selection,tileindex:t,tilevalue:n,onClick:function(){return e.onClick(t)}},"RackTile".concat(t))}))}),e.whoseturn===e.participant?h(e):e.allowRewind&&e.moves&&e.moves.length>0&&e.moves[e.moves.length-1].by===e.participant&&y(e),e.moves&&e.moves.length>0&&e.moves[e.moves.length-1].by!==e.participant&&v(e)]})};c.propTypes={participant:s().string.isRequired,racktiles:s().arrayOf(s().string),whoseturn:s().string.isRequired,selection:s().number.isRequired,onClick:s().func.isRequired,allowRewind:s().bool.isRequired,moves:s().arrayOf(s().any)};var o=function(e){var n="pbTileOnRack "+(e.selection===e.tileindex?"Selected ":"Unselected ")+("Q"===e.tilevalue?"u ":"")+e.participant,t=e.tileindex;return(0,i.jsx)("div",{className:n,onClick:function(n){return e.onClick(n)},children:(0,i.jsx)("div",{className:"pbTileOnRackText",children:e.tilevalue})},t)};o.propTypes={selection:s().number.isRequired,tileindex:s().number.isRequired,tilevalue:s().string.isRequired,participant:s().string.isRequired,onClick:s().func.isRequired};var l=function(e){return(0,i.jsx)("button",{className:"pbActionButton",onClick:e.onClick,children:(0,i.jsxs)("span",{className:"pbActionButtonText",children:[(0,i.jsx)("i",{className:"material-icons",children:"check"}),"\xa0Finish Turn"]})})};l.propTypes={onClick:s().func.isRequired};var u=function(e){return(0,i.jsx)("button",{className:"pbActionButton",onClick:e.onClick,children:(0,i.jsxs)("span",{className:"pbActionButtonText",children:[(0,i.jsx)("i",{className:"material-icons",children:"undo"}),"\xa0Recall Tiles"]})})};u.propTypes={onClick:s().func.isRequired};var p=function(e){return(0,i.jsx)("button",{className:"pbActionButton",onClick:e.onClick,children:(0,i.jsxs)("span",{className:"pbActionButtonText",children:[(0,i.jsx)("i",{className:"material-icons",children:"cached"}),"\xa0Swap Tiles"]})})};p.propTypes={onClick:s().func.isRequired};var d=function(e){return(0,i.jsx)("button",{className:"pbActionButton",onClick:e.onClick,children:(0,i.jsxs)("span",{className:"pbActionButtonText",children:[(0,i.jsx)("i",{className:"material-icons",children:"not_interested"}),"\xa0Pass Turn"]})})};d.propTypes={onClick:s().func.isRequired};var f=function(e){return e.alreadyAllowed?(0,i.jsx)("div",{className:"pbActionButtonSevere",children:(0,i.jsxs)("span",{className:"pbActionButtonSevereText",children:[(0,i.jsx)("i",{className:"material-icons",children:"report"}),"\xa0ENABLED",(0,i.jsx)("span",{className:"pbActionButtonSevereText2",children:"\xa0Allow undo is now enabled"})]})}):(0,i.jsx)("button",{className:"pbActionButtonSevere",onClick:e.onClick,children:(0,i.jsxs)("span",{className:"pbActionButtonSevereText",children:[(0,i.jsx)("i",{className:"material-icons",children:"report_problem"}),"\xa0Allow Undo Turn",(0,i.jsx)("span",{className:"pbActionButtonSevereText2",children:"Click to let opponent undo"})]})})};f.propTypes={alreadyAllowed:s().bool.isRequired,onClick:s().func.isRequired};var m=function(e){return(0,i.jsx)("button",{className:"pbActionButtonSevere",onClick:e.onClick,children:(0,i.jsxs)("span",{className:"pbActionButtonSevereText",children:[(0,i.jsx)("i",{className:"material-icons",children:"delete_forever"}),"\xa0Undo My Turn",(0,i.jsx)("span",{className:"pbActionButtonSevereText2",children:"Opponent has allowed undo"})]})})};function h(e){return(0,i.jsxs)("div",{className:"pbActionButtonDiv",children:[(0,i.jsx)("p",{children:(0,i.jsx)(l,{onClick:function(){return e.onClickFinishTurn()}})}),(0,i.jsx)("p",{children:(0,i.jsx)(u,{onClick:function(){return e.onClickTileRecall()}})}),(0,i.jsx)("p",{children:(0,i.jsx)(p,{onClick:function(){return e.onClickTileExchange()}})}),(0,i.jsx)("p",{children:(0,i.jsx)(d,{onClick:function(){return e.onClickPassPlay()}})})]})}function v(e){return(0,i.jsx)("div",{className:"pbActionButtonDiv",children:(0,i.jsx)("div",{children:(0,i.jsx)(f,{onClick:function(){return e.onClickAllowUndo()},alreadyAllowed:e.allowRewind})})})}function y(e){return(0,i.jsx)("div",{className:"pbActionButtonDiv",children:(0,i.jsx)("p",{children:(0,i.jsx)(m,{onClick:function(){return e.onClickUndoLastPlay()}})})})}m.propTypes={onClick:s().func.isRequired},n.default=c}}]);