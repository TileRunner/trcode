(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{2792:function(e,r,t){"use strict";t.d(r,{CU:function(){return a},cO:function(){return s}});var o=t(809),n=t.n(o),c=t(2447),l="https://tilerunner.herokuapp.com";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=0,o=Array.from(e),n=Array.from(r);if(o.length===n.length)for(var c=0;c<o.length;c++){o[c];o[c]!==n[c]&&t++}else t=-1;return t}function s(e){return i.apply(this,arguments)}function i(){return(i=(0,c.Z)(n().mark((function e(r){var t,o,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(l,"/ENABLE2K?exists=").concat(r.toLowerCase()),e.next=3,fetch(t);case 3:return o=e.sent,e.next=6,o.json();case 6:return c=e.sent,e.abrupt("return",c.exists);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2808:function(e,r,t){"use strict";t.r(r);var o=t(5893),n=t(809),c=t.n(n),l=t(1385),a=t(2447),s=t(7294),i=t(9359),u=t(2792);r.default=function(e){var r=e.setWhereto,t=(0,s.useState)(6),n=t[0],h=t[1],f=(0,s.useState)(5),p=f[0],d=f[1],m=(0,s.useState)(5),w=m[0],v=m[1],x="morphoCellStatic",y="morphoCellNoLetter",N="morphoCellCocoon",C=(0,s.useState)(!0),j=C[0],k=C[1],A=(0,s.useState)(!1),b=A[0],S=A[1],z=(0,s.useState)(!1),g=z[0],E=z[1],O=(0,s.useState)(!1),P=O[0],B=O[1],L=(0,s.useState)(!1),U=L[0],K=L[1],T=(0,s.useState)(""),Z=T[0],D=T[1],I=(0,s.useState)(""),R=I[0],M=I[1],Y=(0,s.useState)([]),_=Y[0],H=Y[1],J=(0,s.useState)({row:1,col:0}),W=J[0],G=J[1];(0,s.useEffect)((function(){F(w)}),[]);var F=function(){var e=(0,a.Z)(c().mark((function e(r){var t,o,n,a,s,i,u,f,p,m,w,v,N;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r+1,o=r,k(!0),S(!1),B(!1),E(!1),K(!1),d(r),h(r+1),n=[],a="".concat("https://tilerunner.herokuapp.com","/ENABLE2K?morpho=true&len=").concat(r),e.next=13,fetch(a);case 13:return s=e.sent,e.next=16,s.json();case 16:if((i=e.sent).notes&&0!==i.notes.length)alert("Problem generating puzzle: ".concat(i.notes,"\nBest to click Home then rechoose Morpho."));else{for(u=0;u<t;u++){for(f=i.puzzle[u].toUpperCase(),0===u?D(f):u===t-1&&M(f),p=(0,l.Z)(Array.from(f)),m=0===u||u===t-1,w=[],v=0;v<o;v++)N={letter:"?",solution:p[v],className:"?"},0===u||u===t-1?(N.letter=p[v],N.className=x):(N.letter="?",N.className=y),w.push(N);n.push({filledin:m,colArray:w})}H(n),G({row:1,col:0}),k(!1)}case 18:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),$=function(e){var r=W.row,t=W.col;if(!(r<1||r>=n-1)&&!(t<0||r>=p))if(g&&"Enter"===e)ee();else{var o="r";if("Backspace"===e&&(e="?",o="l"),"Delete"===e&&(e="?",o=""),"ArrowUp"===e&&(e=_[r].colArray[t].letter,o="u"),"ArrowDown"===e&&(e=_[r].colArray[t].letter,o="d"),"ArrowLeft"===e&&(e=_[r].colArray[t].letter,o="l"),"ArrowRight"===e&&(e=_[r].colArray[t].letter,o="r"),e.match(/^[A-Za-z\?]$/)&&""!==(e=e.toUpperCase())){var c=JSON.parse(JSON.stringify(_));c[r].colArray[t].letter=e,c[r].filledin=0===c[r].colArray.filter((function(e){return"?"===e.letter})).length;for(var l=0;l<p;l++)"?"===c[r].colArray[l].letter?c[r].colArray[l].className=y:c[r].colArray[l].className=c[r].filledin?N:"morphoCellLarva";"u"===o&&q(),"d"===o&&Q(),"r"===o&&V(),"l"===o&&X(),0===c.filter((function(e){return!e.filledin})).length&&E(!0),H(c)}}},q=function(){var e=W.row,r=W.col,t={row:e,col:r};e-1>0?(t.row=e-1,t.col=r):(t.row=n-2,t.col=r-1>-1?r-1:p-1),G(t)},Q=function(){var e=W.row,r=W.col,t={row:e,col:r};e+1<n-1?(t.row=e+1,t.col=r):(t.row=1,t.col=r+1<p?r+1:0),G(t)},V=function(){var e=W.row,r=W.col,t={row:1,col:0};r+1<p?(t.row=e,t.col=r+1):e+1<n-1&&(t.row=e+1,t.col=0),G(t)},X=function(){var e=W.row,r=W.col,t={row:n-2,col:p-1};r-1>-1?(t.row=e,t.col=r-1):e-1>0&&(t.row=e-1,t.col=p-1),G(t)},ee=function(){var e=(0,a.Z)(c().mark((function e(){var r,t,o,l,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0),r=!0,t=1;case 3:if(!(r&&t<n)){e.next=19;break}for(o="",l="",a=0;a<p;a++)o+=_[t-1].colArray[a].letter,l+=_[t].colArray[a].letter;if(1!==(0,u.CU)(o,l)&&(alert("".concat(o," to ").concat(l," is not a valid move")),r=!1),e.t0=r&&t!==n-1,!e.t0){e.next=13;break}return e.next=12,(0,u.cO)(l);case 12:e.t0=!e.sent;case 13:if(!e.t0){e.next=16;break}alert("".concat(l," is not valid")),r=!1;case 16:t++,e.next=3;break;case 19:S(!1),K(r);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{className:"trBackground",children:[(0,o.jsxs)("div",{className:"trTitle",children:["Morpho",(0,o.jsx)("button",{className:"trButton",onClick:function(){r("menu")},children:(0,o.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})]}),j&&(0,o.jsx)("div",{className:"trEmphasis",children:"Creating puzzle, please be patient..."},"pleasewait"),!j&&(0,o.jsxs)("div",{className:U?"morphoSolvedDiv l".concat(p):"morphoDiv",children:[(0,o.jsx)("table",{onKeyDown:function(e){var r;"F12"!==(r=e).key&&(r.preventDefault(),b||U||$(r.key))},tabIndex:-1,children:(0,o.jsx)("tbody",{children:_.map((function(e,r){return(0,o.jsx)("tr",{children:e.colArray.map((function(e,t){return(0,o.jsx)("td",{onClick:function(){!function(e,r){if(!b&&!U&&!(r<0||r>=p)){if(e===n-1&&W.row>0&&W.row<n-1){for(var t=JSON.parse(JSON.stringify(_)),o=0;o<p;o++)t[W.row].colArray[o].letter=o===r?t[n-1].colArray[o].letter:t[W.row-1].colArray[o].letter,t[W.row].colArray[o].className=N;t[W.row].filledin=!0;var c={row:W.row+1,col:0};return G(c),H(t),void(0===t.filter((function(e){return!e.filledin})).length&&E(!0))}e<1||e>=n-1||G({row:e,col:r})}}(r,t)},className:"col morphoCell ".concat(P?x:U?"morphoCellButterfly":e.className+(r===W.row&&t===W.col?" morphoCellSelected":"")),children:P?(0,o.jsx)("span",{children:e.solution},"BoardCellS.".concat(r,".").concat(t)):(0,o.jsx)("span",{children:e.letter},"BoardCellL.".concat(r,".").concat(t))},"BoardCell.".concat(r,".").concat(t))}))},"BoardRow.".concat(r))}))})}),(0,o.jsxs)("div",{className:"trParagraph",children:[!j&&!b&&!U&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"morphoKeyboard",children:[(0,o.jsxs)("div",{className:"morphoKeyrow4",children:[(0,o.jsx)("button",{onClick:function(){!function(){if(!b&&!U){var e=W.row,r=W.col;e<1||e>=n-1||r<0||e>=p||$(_[e-1].colArray[r].letter)}}()},className:"morphoCopydownKey",children:"COPY DOWN"},"keyCopydown"),(0,o.jsx)("button",{onClick:function(){!function(){if(!b&&!U){var e=W.row,r=W.col;e<1||e>=n-1||r<0||e>=p||$(_[n-1].colArray[r].letter)}}()},className:"morphoCopyupKey",children:"COPY UP"},"keyCopyup")]}),!U&&g&&(0,o.jsx)("div",{className:"morphoKeyrow4",children:(0,o.jsx)("button",{className:"trButton",onClick:function(){ee()},children:"SUBMIT YOUR SOLUTION"})})]}),(0,o.jsxs)("p",{children:["Change one letter at a time to get from ",Z," to ",R,". Each interim word must be a valid word."]}),(0,o.jsx)("p",{children:"COPY DOWN copies a letter down from the row above. COPY UP copies a letter up from the bottom row."}),(0,o.jsx)("p",{children:"Click a letter on the bottom row to use it as the swap on the selected row."})]}),U?(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"trEmphasis",children:"Success!"}),(0,o.jsxs)(i.A_,{children:[(0,o.jsxs)("button",{className:"trButton",onClick:function(){F(w)},children:["GENERATE ",w," LETTER PUZZLE"]},"genMobile"),w<5&&(0,o.jsx)("button",{className:"morphoPuzzleSizeKey",onClick:function(){v(w+1)},children:"+"},"longerPuzzleMobile"),w>3&&(0,o.jsx)("button",{className:"morphoPuzzleSizeKey",onClick:function(){v(w-1)},children:"-"},"shorterPuzzleMobile")]}),(0,o.jsxs)(i.I3,{children:[(0,o.jsxs)("button",{className:"trButton",onClick:function(){F(w)},children:["GENERATE ",w," LETTER PUZZLE"]},"genBrowser"),w<7&&(0,o.jsx)("button",{className:"morphoPuzzleSizeKey",onClick:function(){v(w+1)},children:"+"},"longerPuzzle"),w>3&&(0,o.jsx)("button",{className:"morphoPuzzleSizeKey",onClick:function(){v(w-1)},children:"-"},"shorterPuzzle")]})]}):(0,o.jsx)("button",{className:"trButton",onClick:function(){B(!P)},children:"".concat(P?"HIDE SOLUTION":"SHOW A SOLUTION")})]})]},"showboard")]})}},2447:function(e,r,t){"use strict";function o(e,r,t,o,n,c,l){try{var a=e[c](l),s=a.value}catch(i){return void t(i)}a.done?r(s):Promise.resolve(s).then(o,n)}function n(e){return function(){var r=this,t=arguments;return new Promise((function(n,c){var l=e.apply(r,t);function a(e){o(l,n,c,a,s,"next",e)}function s(e){o(l,n,c,a,s,"throw",e)}a(void 0)}))}}t.d(r,{Z:function(){return n}})}}]);