(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[504],{4339:function(e,n,t){"use strict";t.d(n,{d:function(){return a},o:function(){return s}});var a="U",s="P"},4891:function(e,n,t){"use strict";t.r(n);var a=t(5893),s=t(7294),i=t(5518),r=t(5354),o=t(1863),c=t(4339),u=t(5877);n.default=function(e){var n=e.setWhereto,t=(0,s.useState)((0,u.v4)())[0],m=(0,s.useState)(c.d),l=m[0],d=m[1],f=(0,s.useState)(""),h=f[0],w=f[1],g=(0,s.useState)(""),y=g[0],p=g[1],b=(0,s.useState)(""),v=b[0],j=b[1],x=(0,s.useState)(2),N=x[0],C=x[1],k="wss://tilerunner.herokuapp.com/?clientType=fyb&thisisme="+t,P=(0,s.useState)(new i.Z(k,(function(e){w(e.data)}),"fyb",t))[0];return(0,s.useEffect)((function(){return P.connect()}),[]),(0,a.jsxs)(a.Fragment,{children:[l===c.d&&(0,a.jsx)(r.default,{setWhereto:n,client:P,thisisme:t,setParticipant:d,wsmessage:h,nickname:y,setNickname:p,gameid:v,setGameid:j,numPlayers:N,setNumPlayers:C}),l===c.o&&(0,a.jsx)(o.default,{setWhereto:n,setParticipant:d,wsmessage:h,nickname:y,gameid:v,numPlayers:N})]})}},1863:function(e,n,t){"use strict";t.r(n);var a=t(5893),s=t(7294);n.default=function(e){var n=e.setWhereto,t=(e.setParticipant,e.wsmessage),i=e.nickname,r=e.gameid,o=e.numPlayers,c=(0,s.useState)(""),u=c[0],m=c[1],l=(0,s.useState)({players:[{index:0,nickname:"Loading..."}],events:[]}),d=l[0],f=l[1];return(0,s.useEffect)((function(){""!==t&&function(e){var n=JSON.parse(e);"fyb"===n.type&&("gamecreated"===n.func?(console.log(n.game),m("Game created. Waiting for players to arrive."),f(n.game)):"gamejoined"===n.func?(m("".concat(n.nickname," just joined the game.")),f(n.game)):m("Unhandled message: ".concat(e)))}(t)}),[t]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"w3-teal w3-cell-row",children:[(0,a.jsx)("div",{className:"w3-container w3-cell w3-cell-middle w3-padding w3-mobile",children:(0,a.jsx)("h1",{className:"myHeadingFont",children:"Fry Your Brain"})}),(0,a.jsxs)("div",{className:"w3-container w3-cell w3-mobile",children:[(0,a.jsxs)("h4",{className:"myCommonFont",children:["Game id: ",r]}),(0,a.jsxs)("h4",{className:"myCommonFont",children:["Nickname: ",i]}),(0,a.jsxs)("h4",{className:"myCommonFont",children:[o," player game"]})]}),(0,a.jsx)("div",{className:"w3-container w3-cell w3-padding w3-mobile",children:(0,a.jsx)("button",{className:"w3-button",onClick:function(){n("menu")},children:(0,a.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})})]}),(0,a.jsx)("h1",{children:"Game under construction"}),(0,a.jsx)("p",{children:u}),(0,a.jsx)("p",{children:"Players:"}),d.players.map((function(e){return(0,a.jsx)("p",{children:e.nickname},"Player{pl.index}")}))]})}},5354:function(e,n,t){"use strict";t.r(n);var a=t(5893),s=t(7294),i=(t(1664),t(4339));function r(e,n,t){return(0,a.jsxs)("div",{className:"w3-row-padding h4",children:[(0,a.jsxs)("div",{className:"w3-quarter",children:[(0,a.jsx)("label",{children:"Nickname:"}),(0,a.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"text",name:"nickname",value:e,onChange:function(e){n(e.target.value)}})]}),e&&(0,a.jsx)("div",{className:"w3-quarter",children:(0,a.jsx)("button",{className:"w3-button w3-border w3-blue myCommonFont",type:"submit",onClick:function(){t(!0)},children:"SUBMIT"})})]})}function o(e){return(0,a.jsxs)("div",{className:"w3-row-padding h4",children:[(0,a.jsx)("div",{className:"w3-quarter",children:(0,a.jsx)("button",{className:"w3-button w3-border w3-blue myCommonFont",type:"submit",id:"chooseCreateGame",onClick:function(){e("C")},children:"CREATE A GAME"})}),(0,a.jsx)("div",{className:"w3-quarter",children:(0,a.jsx)("button",{className:"w3-button w3-border w3-blue myCommonFont",type:"submit",id:"chooseJoinGame",onClick:function(){e("J")},children:"JOIN A GAME"})})]})}function c(e,n,t,s,i,r,o){return(0,a.jsxs)("div",{className:"w3-row-padding h4",children:[(0,a.jsxs)("div",{className:"w3-quarter",children:[(0,a.jsx)("label",{children:"Game ID:"}),(0,a.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"text",name:"gameid",value:t,onChange:function(e){s(e.target.value)}})]}),(0,a.jsxs)("div",{className:"w3-quarter",children:[(0,a.jsx)("label",{children:"Number of Players:"}),(0,a.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"number",name:"numPlayers",value:i,onChange:function(e){e.target.value.match(/[23456]/)&&r(e.target.value)}})]}),t&&(0,a.jsx)("div",{className:"w3-quarter",children:(0,a.jsx)("button",{id:"requestCreateGame",className:"w3-button w3-border w3-blue myCommonFont",type:"submit",onClick:function(){!function(e,n,t,a,s){e.send({type:"fyb",func:"create",thisisme:n,gameid:t,numPlayers:a,nickname:s,timestamp:Date.now()})}(e,n,t,i,o)},children:"SUBMIT"})})]})}function u(e,n,t,s,i){return(0,a.jsxs)("div",{className:"w3-row-padding h4",children:[(0,a.jsxs)("div",{className:"w3-quarter",children:[(0,a.jsx)("label",{children:"Game ID to join:"}),(0,a.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"text",name:"gameid",value:t,onChange:function(e){s(e.target.value)}})]}),t&&(0,a.jsx)("div",{className:"w3-quarter",children:(0,a.jsx)("button",{id:"requestJoinGame",className:"w3-button w3-border w3-blue myCommonFont",type:"submit",onClick:function(){!function(e,n,t,a){e.send({type:"fyb",func:"join",thisisme:n,gameid:t,nickname:a})}(e,n,t,i)},children:"SUBMIT"})})]})}n.default=function(e){var n=e.setWhereto,t=e.client,m=e.thisisme,l=e.setParticipant,d=e.wsmessage,f=e.nickname,h=e.setNickname,w=e.gameid,g=e.setGameid,y=e.numPlayers,p=e.setNumPlayers,b=(0,s.useState)(""),v=b[0],j=b[1],x=(0,s.useState)(!1),N=x[0],C=x[1],k=(0,s.useState)(""),P=k[0],S=k[1];return(0,s.useEffect)((function(){""!==d&&function(e){var n=JSON.parse(e);j(e),"fyb"===n.type&&("gamecreated"===n.func?n.thisisme===m?(w!==n.game.gameid&&g(n.game.gameid),y!==n.game.numPlayers&&p(n.game.numPlayers),l(i.o)):j("".concat(n.nickname," just created game ").concat(n.gameid,".")):"gameidtaken"===n.func?j("That game ID is already taken"):"gamejoined"===n.func?n.thisisme===m?(w!==n.game.gameid&&g(n.game.gameid),p(n.game.numPlayers),l(i.o)):j("".concat(n.nickname," just joined game ").concat(n.game.gameid,".")):"gameidunknown"===n.func?j("That game ID is not being used"):"gamefull"===n.func?j("That game is full"):j("Unhandled message: ".concat(e)))}(d)}),[d]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"w3-container w3-teal w3-bar",children:[(0,a.jsx)("h1",{className:"w3-bar-item w3-centre myHeadingFont",children:"Fry Your Brain Lobby"}),(0,a.jsx)("div",{className:"w3-bar-item w3-right",children:(0,a.jsx)("button",{className:"w3-button",onClick:function(){n("menu")},children:(0,a.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})})]}),(0,a.jsx)("h1",{children:"Lobby under construction"}),(0,a.jsx)("p",{children:v}),!N&&r(f,h,C),N&&!P&&o(S),N&&"C"===P&&c(t,m,w,g,y,p,f),N&&"J"===P&&u(t,m,w,g,f)]})}},4047:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t.d(n,{Z:function(){return a}})},2700:function(e,n,t){"use strict";function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e}t.d(n,{Z:function(){return s}})},5877:function(e,n,t){var a=t(3570),s=t(1171),i=s;i.v1=a,i.v4=s,e.exports=i},5327:function(e){for(var n=[],t=0;t<256;++t)n[t]=(t+256).toString(16).substr(1);e.exports=function(e,t){var a=t||0,s=n;return[s[e[a++]],s[e[a++]],s[e[a++]],s[e[a++]],"-",s[e[a++]],s[e[a++]],"-",s[e[a++]],s[e[a++]],"-",s[e[a++]],s[e[a++]],"-",s[e[a++]],s[e[a++]],s[e[a++]],s[e[a++]],s[e[a++]],s[e[a++]]].join("")}},5217:function(e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var t=new Uint8Array(16);e.exports=function(){return n(t),t}}else{var a=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0===(3&n)&&(e=4294967296*Math.random()),a[n]=e>>>((3&n)<<3)&255;return a}}},3570:function(e,n,t){var a,s,i=t(5217),r=t(5327),o=0,c=0;e.exports=function(e,n,t){var u=n&&t||0,m=n||[],l=(e=e||{}).node||a,d=void 0!==e.clockseq?e.clockseq:s;if(null==l||null==d){var f=i();null==l&&(l=a=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=s=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),w=void 0!==e.nsecs?e.nsecs:c+1,g=h-o+(w-c)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||h>o)&&void 0===e.nsecs&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=h,c=w,s=d;var y=(1e4*(268435455&(h+=122192928e5))+w)%4294967296;m[u++]=y>>>24&255,m[u++]=y>>>16&255,m[u++]=y>>>8&255,m[u++]=255&y;var p=h/4294967296*1e4&268435455;m[u++]=p>>>8&255,m[u++]=255&p,m[u++]=p>>>24&15|16,m[u++]=p>>>16&255,m[u++]=d>>>8|128,m[u++]=255&d;for(var b=0;b<6;++b)m[u+b]=l[b];return n||r(m)}},1171:function(e,n,t){var a=t(5217),s=t(5327);e.exports=function(e,n,t){var i=n&&t||0;"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n)for(var o=0;o<16;++o)n[i+o]=r[o];return n||s(r)}}}]);