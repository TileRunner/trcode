"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[211],{5211:function(e,a,r){r.r(a);var s=r(5893),n=r(7294),t=r(5697),i=r.n(t),c=r(5079),l=r(7554),d=r(3836);function o(e,a){(null==a||a>e.length)&&(a=e.length);for(var r=0,s=new Array(a);r<a;r++)s[r]=e[r];return s}function m(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,a){if(!e)return;if("string"===typeof e)return o(e,a);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h="trButton",u=function(e){var a=e.setWhereto,r=e.client,t=e.setIsrejoin,i=e.wsmessage,o=e.gameid,u=e.setGameid,b=e.nickname,x=e.setNickname,j=e.setParticipant,g=e.racksize,w=e.setRacksize,N=function(e){var a=function(e){for(var a=0;a<y.length;++a)if(y[a].gameid===e)return a;return-1}(e);return a>-1},f=function(e){return 0===b.length?0:e.pname===b?2:e.gname?3:0},p=function(e){return 0===b.length?0:e.gname===b?2:e.gname?"Game over"===e.gamestatus?4:0:1},k=function(e){w(e)},v=(0,n.useState)([]),y=v[0],R=v[1],z=(0,n.useState)([]),S=z[0],G=z[1];return(0,n.useEffect)((function(){""!==i&&function(e){var a=JSON.parse(e);if("pb"!==a.type||"chat"!==a.func||a.gameid||a.nickname===b){if("pb"===a.type&&"gamelist"===a.func){var r=[];a.gamelist.forEach((function(e){var a={gameid:e.gameid,pname:e.pname,gname:e.gname,gamestatus:e.whoseturn===l.Bd?"Game over":"Unfinished",racksize:e.racksize};r.push(a)})),R(m(r))}}else{var s=m(S).concat([{from:a.nickname,msg:a.sendmsg}]);G(s)}}(i)}),[i]),(0,n.useEffect)((function(){(0,d.O)("ScrollableChat")}),[S]),(0,s.jsxs)("div",{className:"trBackground",children:[(0,s.jsxs)("div",{className:"trTitle",children:["Prison Break Lobby\xa0",(0,s.jsx)("button",{className:"trButton",onClick:function(){a("menu")},children:(0,s.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})]}),(0,s.jsxs)("div",{className:"w3-row",children:[(0,s.jsxs)("div",{className:"w3-col s9",children:[(0,s.jsx)("div",{className:"w3-container",children:(0,s.jsxs)("div",{className:"w3-bar",children:[(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsx)("h3",{children:(0,s.jsx)("span",{className:"trEmphasis",children:"All Participants >"})})}),(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsx)("label",{className:"h3 trParagraph",children:"Nickname:"})}),(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsx)("input",{className:"trParagraph",type:"text",name:"nickname",value:b,onChange:function(e){x(e.target.value)}})})]})}),(0,s.jsx)("div",{className:"w3-container",children:(0,s.jsxs)("div",{className:"w3-bar",children:[(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsx)("h3",{children:(0,s.jsx)("span",{className:"trEmphasis",children:"Prisoners >"})})}),(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsx)("label",{className:"h3 trParagraph",children:"Game ID:"})}),(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsx)("input",{className:"trParagraph",type:"text",name:"gameid",value:o,onChange:function(e){u(e.target.value)}})}),(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsx)("label",{className:"h3 trParagraph",children:"Rack Size:"})}),(0,s.jsxs)("div",{className:"w3-bar-item",children:[(0,s.jsxs)("div",{className:"w3-row",children:[(0,s.jsx)("button",{id:"selectracksize4",className:4===g?"pbLobbyRackSizeSelected":"pbLobbyRackSize",onClick:function(){return k(4)},"data-toggle":"tooltip",title:"4 letter racks, 9 x 9 board",autoFocus:!0,children:"4"}),(0,s.jsx)("button",{id:"selectracksize5",className:5===g?"pbLobbyRackSizeSelected":"pbLobbyRackSize",onClick:function(){return k(5)},"data-toggle":"tooltip",title:"5 letter racks, 11 x 11 board",children:"5"}),(0,s.jsx)("button",{id:"selectracksize6",className:6===g?"pbLobbyRackSizeSelected":"pbLobbyRackSize",onClick:function(){return k(6)},"data-toggle":"tooltip",title:"6 letter racks, 13 x 13 board",children:"6"}),(0,s.jsx)("button",{id:"selectracksize7",className:7===g?"pbLobbyRackSizeSelected":"pbLobbyRackSize",onClick:function(){return k(7)},"data-toggle":"tooltip",title:"7 letter racks, 15 x 15 board",children:"7"})]}),(0,s.jsx)("div",{className:"w3-row",children:(0,s.jsxs)("span",{className:"trParagraph",children:[g," letter racks, ",2*g+1," x ",2*g+1," board."]})})]}),(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsx)("button",{id:"startgame",className:h,onClick:function(){0===b.length?window.alert("Please enter nickname before starting a game"):o.length>0?N(o)?window.alert("Game already started with that id"):j(l.ap):window.alert("Please enter Game ID before starting a game")},children:"Start Game"})})]})}),(0,s.jsx)("div",{className:"w3-container",children:(0,s.jsxs)("div",{className:"w3-bar",children:[(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsx)("h3",{children:(0,s.jsx)("span",{className:"trEmphasis",children:"Guards >"})})}),(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsx)("span",{className:"trParagraph",children:(0,s.jsx)("h2",{children:'Find and click the "Join Game" button for your game.'})})})]})}),(0,s.jsx)("div",{className:"w3-container",children:(0,s.jsx)("div",{className:"w3-bar",children:(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsx)("h3",{className:"trWarning",children:'If you lost connection, find and click the "Reconnect" button for your nickname.'})})})}),(0,s.jsx)("div",{className:"w3-container",children:(0,s.jsxs)("div",{className:"w3-bar",children:[(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsx)("span",{className:"trParagraph h3",children:"Game list:"})}),(0,s.jsx)("div",{className:"w3-bar-item",children:(0,s.jsxs)("table",{className:"w3-table-all w3-card-4",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"w3-blue h4 myCommonFont",children:[(0,s.jsx)("th",{className:"w3-border-right",children:"Game ID"}),(0,s.jsx)("th",{className:"w3-border-right",children:"Prisoners"}),(0,s.jsx)("th",{className:"w3-border-right",children:"Guards"}),(0,s.jsx)("th",{className:"w3-border-right",children:"Rack Size"}),(0,s.jsx)("th",{children:"Game Status"}),(0,s.jsx)("th",{className:"w3-border-left",children:"Delete"})]})}),(0,s.jsx)("tbody",{children:y.map((function(e,a){return(0,s.jsxs)("tr",{className:"myCommonFont w3-grey w3-hover-green",children:[(0,s.jsx)("td",{className:"w3-border-right",children:(0,s.jsx)("b",{children:e.gameid})}),2===f(e)?(0,s.jsx)("td",{id:"PrisonersRejoin".concat(a),className:"w3-border-right",children:(0,s.jsx)("button",{className:"w3-button w3-red w3-round w3-hover-black",onClick:function(){t(!0),u(e.gameid),j(l.ap),w(e.racksize)},children:"Reconnect"})}):3===f(e)?(0,s.jsx)("td",{id:"PrisonersObserve".concat(a),className:"w3-border-right",children:(0,s.jsx)("button",{className:"w3-button w3-yellow w3-round w3-hover-black",onClick:function(){t(!1),u(e.gameid),j(l.qg),w(e.racksize)},children:"Observe"})}):(0,s.jsx)("td",{id:"PrisonersNoAction".concat(a),className:"w3-border-right",children:"No action available"}),2===p(e)?(0,s.jsx)("td",{id:"GuardsRejoin".concat(a),className:"w3-border-right",children:(0,s.jsx)("button",{className:"w3-button w3-red w3-round w3-hover-black",onClick:function(){t(!0),u(e.gameid),j(l.b6),w(e.racksize)},children:"Reconnect"})}):1===p(e)?(0,s.jsx)("td",{id:"GuardsJoin".concat(a),className:"w3-border-right",children:(0,s.jsx)("button",{className:h,onClick:function(){u(e.gameid),j(l.b6),w(e.racksize)},children:"Join Game"})}):4===p(e)?(0,s.jsx)("td",{id:"GuardsExamine".concat(a),className:"w3-border-right",children:(0,s.jsx)("button",{className:h,onClick:function(){u(e.gameid),j(l.Vj),w(e.racksize)},children:"Examine Game"})}):(0,s.jsx)("td",{id:"GuardsNoAction".concat(a),className:"w3-border-right",children:"No action available"}),(0,s.jsx)("td",{id:"RackSize".concat(a),className:"w3-center w3-border-right",children:e.racksize}),(0,s.jsx)("td",{id:"GameStatus".concat(a),children:e.gamestatus}),(0,s.jsx)("td",{id:"DeleteGame".concat(a),className:"w3-border-left",children:("TileRunner"===b||b===e.pname||b===e.gname)&&(0,s.jsx)("button",{className:"w3-button w3-red w3-border w3-round w3-hover-black",onClick:function(){r.send({type:"pb",func:"deletegame",gameid:e.gameid})},children:"Delete Game"})})]},"OtherGame".concat(a))}))})]})})]})})]}),(0,s.jsx)("div",{className:"w3-col s3",children:(0,s.jsx)(c.default,{client:r,nickname:b,msgs:S,setMsgs:G})})]}),(0,s.jsx)("div",{className:"trParagraph",children:(0,s.jsx)("h1",{children:"Have fun!"})})]})};u.propTypes={setWhereto:i().func.isRequired,client:i().any,setIsrejoin:i().func.isRequired,wsmessage:i().string.isRequired,gameid:i().string.isRequired,setGameid:i().func.isRequired,nickname:i().string.isRequired,setNickname:i().func.isRequired,setParticipant:i().func.isRequired,racksize:i().number.isRequired,setRacksize:i().func.isRequired},a.default=u}}]);