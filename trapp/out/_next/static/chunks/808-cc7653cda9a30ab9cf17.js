(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{2792:function(r,e,t){"use strict";t.d(e,{CU:function(){return l},cO:function(){return s}});var o=t(809),n=t.n(o),c=t(2447),a="https://tilerunner.herokuapp.com";function l(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=0,o=Array.from(r),n=Array.from(e);if(o.length===n.length)for(var c=0;c<o.length;c++){o[c];o[c]!==n[c]&&t++}else t=-1;return t}function s(r){return i.apply(this,arguments)}function i(){return(i=(0,c.Z)(n().mark((function r(e){var t,o,c;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="".concat(a,"/ENABLE2K?exists=").concat(e.toLowerCase()),r.next=3,fetch(t);case 3:return o=r.sent,r.next=6,o.json();case 6:return c=r.sent,r.abrupt("return",c.exists);case 8:case"end":return r.stop()}}),r)})))).apply(this,arguments)}},2808:function(r,e,t){"use strict";t.r(e);var o=t(5893),n=t(809),c=t.n(n),a=t(1385),l=t(2447),s=t(7294),i=t(2792);e.default=function(r){var e=r.setWhereto,t="morphoCellStatic",n="morphoCellNoLetter",u="morphoCellCocoon",f=(0,s.useState)(!0),h=f[0],p=f[1],d=(0,s.useState)(!1),m=d[0],w=d[1],v=(0,s.useState)(!1),y=v[0],x=v[1],N=(0,s.useState)(!1),C=N[0],A=N[1],j=(0,s.useState)(!1),k=j[0],b=j[1],S=(0,s.useState)(""),O=S[0],g=S[1],E=(0,s.useState)(""),U=E[0],B=E[1],L=(0,s.useState)([]),D=L[0],K=L[1],P=(0,s.useState)({row:1,col:0}),T=P[0],Z=P[1];(0,s.useEffect)((function(){I()}),[]);var I=function(){var r=(0,l.Z)(c().mark((function r(){var e,o,l,s,i,u,f,h,d,m,v;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return p(!0),w(!1),A(!1),x(!1),b(!1),e=[],o="".concat("https://tilerunner.herokuapp.com","/ENABLE2K?morpho=true&len=").concat(5),r.next=9,fetch(o);case 9:return l=r.sent,r.next=12,l.json();case 12:if(!(s=r.sent).notes||0===s.notes.length)for(i=0;i<6;i++){for(u=s.puzzle[i].toUpperCase(),0===i?g(u):5===i&&B(u),f=(0,a.Z)(Array.from(u)),h=0===i||5===i,d=[],m=0;m<5;m++)v={letter:"?",solution:f[m],className:"?"},0===i||5===i?(v.letter=f[m],v.className=t):(v.letter="?",v.className=n),d.push(v);e.push({filledin:h,colArray:d})}K(e),Z({row:1,col:0}),p(!1);case 17:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),z=function(r){var e=T.row,t=T.col;if(!(e<1||e>=5)&&!(t<0||e>=5))if(y&&"Enter"===r)W();else{var o="r";if("Backspace"===r&&(r="?",o="l"),"Delete"===r&&(r="?",o=""),"ArrowUp"===r&&(r=D[e].colArray[t].letter,o="u"),"ArrowDown"===r&&(r=D[e].colArray[t].letter,o="d"),"ArrowLeft"===r&&(r=D[e].colArray[t].letter,o="l"),"ArrowRight"===r&&(r=D[e].colArray[t].letter,o="r"),r.match(/^[A-Za-z\?]$/)&&""!==(r=r.toUpperCase())){var c=JSON.parse(JSON.stringify(D));c[e].colArray[t].letter=r,c[e].filledin=0===c[e].colArray.filter((function(r){return"?"===r.letter})).length;for(var a=0;a<5;a++)"?"===c[e].colArray[a].letter?c[e].colArray[a].className=n:c[e].colArray[a].className=c[e].filledin?u:"morphoCellLarva";"u"===o&&R(),"d"===o&&Y(),"r"===o&&H(),"l"===o&&J(),0===c.filter((function(r){return!r.filledin})).length&&x(!0),K(c)}}},R=function(){var r=T.row,e=T.col,t={row:r,col:e};r-1>0?(t.row=r-1,t.col=e):(t.row=4,t.col=e-1>-1?e-1:4),Z(t)},Y=function(){var r=T.row,e=T.col,t={row:r,col:e};r+1<5?(t.row=r+1,t.col=e):(t.row=1,t.col=e+1<5?e+1:0),Z(t)},H=function(){var r=T.row,e=T.col,t={row:1,col:0};e+1<5?(t.row=r,t.col=e+1):r+1<5&&(t.row=r+1,t.col=0),Z(t)},J=function(){var r=T.row,e=T.col,t={row:4,col:4};e-1>-1?(t.row=r,t.col=e-1):r-1>0&&(t.row=r-1,t.col=4),Z(t)},W=function(){var r=(0,l.Z)(c().mark((function r(){var e,t,o,n,a;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:w(!0),e=!0,t=1;case 3:if(!(e&&t<6)){r.next=19;break}for(o="",n="",a=0;a<5;a++)o+=D[t-1].colArray[a].letter,n+=D[t].colArray[a].letter;if(1!==(0,i.CU)(o,n)&&(alert("".concat(o," to ").concat(n," is not a valid move")),e=!1),r.t0=e&&5!==t,!r.t0){r.next=13;break}return r.next=12,(0,i.cO)(n);case 12:r.t0=!r.sent;case 13:if(!r.t0){r.next=16;break}alert("".concat(n," is not valid")),e=!1;case 16:t++,r.next=3;break;case 19:w(!1),b(e);case 21:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,o.jsxs)("div",{className:"trBackground",onKeyDown:function(r){var e;"F12"!==(e=r).key&&(e.preventDefault(),m||k||z(e.key))},tabIndex:-1,children:[(0,o.jsxs)("div",{className:"trTitle",children:["Morpho",(0,o.jsx)("button",{className:"trButton",onClick:function(){e("menu")},children:(0,o.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})]}),h&&(0,o.jsx)("div",{className:"trEmphasis",children:"Creating puzzle, please be patient..."}),!h&&(0,o.jsxs)("div",{className:k?"morphoSolvedDiv":"morphoDiv",children:[(0,o.jsx)("table",{children:(0,o.jsx)("tbody",{children:D.map((function(r,e){return(0,o.jsx)("tr",{children:r.colArray.map((function(r,n){return(0,o.jsx)("td",{onClick:function(){!function(r,e){if(!(e<0||e>=5)){if(5===r&&T.row>0&&T.row<5){for(var t=JSON.parse(JSON.stringify(D)),o=0;o<5;o++)t[T.row].colArray[o].letter=o===e?t[5].colArray[o].letter:t[T.row-1].colArray[o].letter,t[T.row].colArray[o].className=u;t[T.row].filledin=!0;var n={row:T.row+1,col:0};return Z(n),K(t),void(0===t.filter((function(r){return!r.filledin})).length&&x(!0))}r<1||r>=5||Z({row:r,col:e})}}(e,n)},className:"col morphoCell ".concat(C?t:k?"morphoCellButterfly":r.className+(e===T.row&&n===T.col?" morphoCellSelected":"")),children:C?(0,o.jsx)("span",{children:r.solution}):(0,o.jsx)("span",{children:r.letter})},"BoardCell.".concat(e,".").concat(n))}))},"BoardRow.".concat(e))}))})}),(0,o.jsxs)("div",{className:"trParagraph",children:[!h&&!m&&!k&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"morphoKeyboard",children:[(0,o.jsxs)("div",{className:"morphoKeyrow4",children:[(0,o.jsx)("button",{onClick:function(){!function(){var r=T.row,e=T.col;r<1||r>=5||e<0||r>=5||z(D[r-1].colArray[e].letter)}()},className:"morphoCopydownKey",children:"COPY DOWN"},"keyCopydown"),(0,o.jsx)("button",{onClick:function(){!function(){var r=T.row,e=T.col;r<1||r>=5||e<0||r>=5||z(D[5].colArray[e].letter)}()},className:"morphoCopyupKey",children:"COPY UP"},"keyCopyup")]}),!k&&y&&(0,o.jsx)("div",{className:"morphoKeyrow4",children:(0,o.jsx)("button",{className:"trButton",onClick:function(){W()},children:"SUBMIT YOUR SOLUTION"})})]}),(0,o.jsxs)("p",{children:["Change one letter at a time to get from ",O," to ",U,". Each interim word must be a valid word."]}),(0,o.jsx)("p",{children:"COPY DOWN copies a letter down from the row above. COPY UP copies a letter up from the bottom row."}),(0,o.jsx)("p",{children:"Click a letter on the bottom row to use it as the swap on the selected row."})]}),k?(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"trEmphasis",children:"Success!"}),(0,o.jsx)("button",{className:"trButton",onClick:function(){I()},children:"GENERATE ANOTHER PUZZLE"})]}):(0,o.jsx)("button",{className:"trButton",onClick:function(){A(!C)},children:"".concat(C?"HIDE SOLUTION":"SHOW A SOLUTION")})]})]})]})}}}]);