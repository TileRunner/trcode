(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[916],{5916:function(e,a,s){"use strict";s.r(a);var n=s(5893),i=s(1385),c=s(7294),r=(s(1664),s(7666)),t=s(6595),l=s(3939),d="w3-button w3-border w3-blue w3-hover-black w3-round";a.default=function(e){var a=e.setWhereto,s=e.client,o=e.setIsrejoin,m=e.wsmessage,h=e.gameid,b=e.setGameid,u=e.nickname,w=e.setNickname,x=e.setParticipant,j=e.racksize,N=e.setRacksize,g=(0,c.useState)([]),k=g[0],v=g[1],f=(0,c.useState)([]),p=f[0],y=f[1];function z(e){return function(e){for(var a=0;a<k.length;++a)if(k[a].gameid===e)return a;return-1}(e)>-1}function C(e){return 0===u.length?0:e.pname===u?2:e.gname?3:0}function G(e){return 0===u.length?0:e.gname===u?2:e.gname?"Game over"===e.gamestatus?4:0:1}function S(e){N(e)}return(0,c.useEffect)((function(){""!==m&&function(e){var a=JSON.parse(e);if("pb"===a.type&&"chat"===a.func&&!a.gameid&&a.nickname!==u){var s=[].concat((0,i.Z)(p),[{from:a.nickname,msg:a.sendmsg}]);return void y(s)}if("pb"===a.type&&"gamelist"===a.func){var n=[];a.gamelist.forEach((function(e){var a={gameid:e.gameid,pname:e.pname,gname:e.gname,gamestatus:e.whoseturn===t.Bd?"Game over":"Unfinished",racksize:e.racksize};n.push(a)})),v([].concat(n))}}(m)}),[m]),(0,c.useEffect)((function(){(0,l.O)("ScrollableChat")}),[p]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"w3-container w3-teal w3-bar",children:[(0,n.jsx)("h1",{className:"w3-bar-item w3-centre myHeadingFont",children:"Prison Break Lobby"}),(0,n.jsx)("div",{className:"w3-bar-item w3-right",children:(0,n.jsx)("button",{className:"w3-button",onClick:function(){a("menu")},children:(0,n.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})})]}),(0,n.jsxs)("div",{className:"w3-row",children:[(0,n.jsxs)("div",{className:"w3-col s9",children:[(0,n.jsx)("div",{className:"w3-container",children:(0,n.jsxs)("div",{className:"w3-bar",children:[(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("h3",{children:(0,n.jsx)("span",{className:"pbPlayerTitle",children:"All Participants ~"})})}),(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("h3",{children:(0,n.jsx)("b",{children:"Nickname:"})})}),(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"text",name:"nickname",value:u,onChange:function(e){w(e.target.value)}})})]})}),(0,n.jsx)("div",{className:"w3-container",children:(0,n.jsxs)("div",{className:"w3-bar",children:[(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("h3",{children:(0,n.jsx)("span",{className:"pbPlayerTitle",children:"Prisoners ~"})})}),(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("h3",{children:(0,n.jsx)("b",{children:"Game ID:"})})}),(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("input",{className:"w3-input w3-border w3-blue myCommonFont",type:"text",name:"gameid",value:h,onChange:function(e){b(e.target.value)}})}),(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("h3",{children:(0,n.jsx)("b",{children:"Rack Size:"})})}),(0,n.jsxs)("div",{className:"w3-bar-item",children:[(0,n.jsxs)("div",{className:"w3-row",children:[(0,n.jsx)("button",{id:"selectracksize4",className:4===j?"pbLobbyRackSizeSelected":"pbLobbyRackSize",onClick:function(){return S(4)},"data-toggle":"tooltip",title:"4 letter racks, 9 x 9 board",autoFocus:!0,children:"4"}),(0,n.jsx)("button",{id:"selectracksize5",className:5===j?"pbLobbyRackSizeSelected":"pbLobbyRackSize",onClick:function(){return S(5)},"data-toggle":"tooltip",title:"5 letter racks, 11 x 11 board",children:"5"}),(0,n.jsx)("button",{id:"selectracksize6",className:6===j?"pbLobbyRackSizeSelected":"pbLobbyRackSize",onClick:function(){return S(6)},"data-toggle":"tooltip",title:"6 letter racks, 13 x 13 board",children:"6"}),(0,n.jsx)("button",{id:"selectracksize7",className:7===j?"pbLobbyRackSizeSelected":"pbLobbyRackSize",onClick:function(){return S(7)},"data-toggle":"tooltip",title:"7 letter racks, 15 x 15 board",children:"7"})]}),(0,n.jsx)("div",{className:"w3-row",children:(0,n.jsxs)("span",{className:"pbLobbyCellBlockInfo",children:[j," letter racks, ",2*j+1," x ",2*j+1," board."]})})]}),(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("button",{id:"startgame",className:d,onClick:function(){0===u.length?window.alert("Please enter nickname before starting a game"):h.length>0?z(h)?window.alert("Game already started with that id"):x(t.ap):window.alert("Please enter Game ID before starting a game")},children:"Start Game"})})]})}),(0,n.jsx)("div",{className:"w3-container",children:(0,n.jsxs)("div",{className:"w3-bar",children:[(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("h3",{children:(0,n.jsx)("span",{className:"pbPlayerTitle",children:"Guards ~"})})}),(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("span",{className:"myCommonFont",children:(0,n.jsx)("h2",{children:'Find and click the "Join Game" button for your game.'})})})]})}),(0,n.jsx)("div",{className:"w3-container",children:(0,n.jsxs)("div",{className:"w3-bar",children:[(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("h1",{children:(0,n.jsx)("i",{className:"material-icons w3-right",children:"report_problem"})})}),(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("h3",{className:"myCommonFont",children:'If you lost connection, find and click the "Reconnect" button for your nickname.'})})]})}),(0,n.jsx)("div",{className:"w3-container",children:(0,n.jsxs)("div",{className:"w3-bar",children:[(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsx)("h3",{className:"myCommonFont",children:(0,n.jsx)("b",{children:"Game list:"})})}),(0,n.jsx)("div",{className:"w3-bar-item",children:(0,n.jsxs)("table",{className:"w3-table-all w3-card-4",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"w3-blue h4 myCommonFont",children:[(0,n.jsx)("th",{className:"w3-border-right",children:"Game ID"}),(0,n.jsx)("th",{className:"w3-border-right",children:"Prisoners"}),(0,n.jsx)("th",{className:"w3-border-right",children:"Guards"}),(0,n.jsx)("th",{className:"w3-border-right",children:"Rack Size"}),(0,n.jsx)("th",{children:"Game Status"}),(0,n.jsx)("th",{className:"w3-border-left",children:"Delete"})]})}),(0,n.jsx)("tbody",{children:k.map((function(e,a){return(0,n.jsxs)("tr",{className:"myCommonFont w3-hover-green",children:[(0,n.jsx)("td",{className:"w3-border-right",children:(0,n.jsx)("b",{children:e.gameid})}),2===C(e)?(0,n.jsx)("td",{id:"PrisonersRejoin".concat(a),className:"w3-border-right",children:(0,n.jsx)("button",{className:"w3-button w3-red w3-round w3-hover-black",onClick:function(){o(!0),b(e.gameid),x(t.ap),N(e.racksize)},children:"Reconnect"})}):3===C(e)?(0,n.jsx)("td",{id:"PrisonersObserve".concat(a),className:"w3-border-right",children:(0,n.jsx)("button",{className:"w3-button w3-yellow w3-round w3-hover-black",onClick:function(){o(!1),b(e.gameid),x(t.qg),N(e.racksize)},children:"Observe"})}):(0,n.jsx)("td",{id:"PrisonersNoAction".concat(a),className:"w3-border-right",children:"No action available"}),2===G(e)?(0,n.jsx)("td",{id:"GuardsRejoin".concat(a),className:"w3-border-right",children:(0,n.jsx)("button",{className:"w3-button w3-red w3-round w3-hover-black",onClick:function(){o(!0),b(e.gameid),x(t.b6),N(e.racksize)},children:"Reconnect"})}):1===G(e)?(0,n.jsx)("td",{id:"GuardsJoin".concat(a),className:"w3-border-right",children:(0,n.jsx)("button",{className:d,onClick:function(){b(e.gameid),x(t.b6),N(e.racksize)},children:"Join Game"})}):4===G(e)?(0,n.jsx)("td",{id:"GuardsExamine".concat(a),className:"w3-border-right",children:(0,n.jsx)("button",{className:d,onClick:function(){b(e.gameid),x(t.Vj),N(e.racksize)},children:"Examine Game"})}):(0,n.jsx)("td",{id:"GuardsNoAction".concat(a),className:"w3-border-right",children:"No action available"}),(0,n.jsx)("td",{id:"RackSize".concat(a),className:"w3-center w3-border-right",children:e.racksize}),(0,n.jsx)("td",{id:"GameStatus".concat(a),children:e.gamestatus}),(0,n.jsx)("td",{id:"DeleteGame".concat(a),className:"w3-border-left",children:("TileRunner"===u||u===e.pname||u===e.gname)&&(0,n.jsx)("button",{className:"w3-button w3-red w3-border w3-round w3-hover-black",onClick:function(){s.send({type:"pb",func:"deletegame",gameid:e.gameid})},children:"Delete Game"})})]},"OtherGame".concat(a))}))})]})})]})})]}),(0,n.jsx)("div",{className:"w3-col s3",children:(0,n.jsx)(r.default,{client:s,nickname:u,msgs:p,setMsgs:y})})]}),(0,n.jsx)("div",{className:"w3-container w3-teal",children:(0,n.jsx)("h1",{children:"Have fun!"})})]})}}}]);