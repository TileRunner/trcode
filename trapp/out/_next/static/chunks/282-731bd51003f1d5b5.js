"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{1484:function(e,t,n){n.r(t);var i=n(5893),s=n(7294),a=n(4328);t.default=function(e){var t=e.client,n=e.thisisme,c=e.nickname,r=e.gameid,l=e.setGameid,o=(0,s.useState)(2),u=o[0],m=o[1],h=(0,s.useState)(11),d=h[0],f=h[1],j=(0,s.useState)(!0),g=j[0],x=j[1];return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"trSubtitle",children:"Create Game"}),(0,i.jsx)("div",{className:"trOptionsDiv",children:(0,i.jsx)("div",{className:g?"trCheckbox On":"trCheckbox Off",onClick:function(){x(!g)},"data-toggle":"tooltip",title:"Whether guess must be valid words",children:(0,i.jsx)("label",{children:"Guesses must be valid words"})})}),(0,i.jsx)("table",{className:"trTable",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("label",{children:"Game ID:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",name:"gameid",value:r,onChange:function(e){l(e.target.value)}})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("label",{children:"# Players:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"number",name:"numPlayers",value:u,onChange:function(e){m(e.target.value)}})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("label",{children:"Pts to win:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"number",name:"goal",value:d,onChange:function(e){f(e.target.value)}})})]})]})}),r&&u>1&&u<7&&d>2&&d<22&&(0,i.jsx)("button",{className:"trButton",id:"requestCreateGame",type:"submit",onClick:function(){var e=r.trim();l(e),t.send({type:a.j6,func:"create",thisisme:n,gameid:r,numPlayers:u,goal:d,nickname:c,timestamp:Date.now(),validOnly:g})},children:"SUBMIT"}),!r&&(0,i.jsx)("div",{className:"trWarning",children:"Game ID is required"}),!(u>1&&u<7)&&(0,i.jsx)("div",{className:"trWarning",children:"# Players is 2-6"}),!(d>2&&d<22)&&(0,i.jsx)("div",{className:"trWarning",children:"Pts to win is 3-21"})]})}},1282:function(e,t,n){n.r(t);var i=n(5893),s=n(7294),a=n(6882),c=n(3371),r=n(8490),l=n(4328),o=n(5877);t.default=function(e){var t=e.setWhereto,n=(0,s.useState)((0,o.v4)())[0],u=(0,s.useState)(l.dK),m=u[0],h=u[1],d=(0,s.useState)(""),f=d[0],j=d[1],g=(0,s.useState)(""),x=g[0],v=g[1],k=(0,s.useState)(""),p=k[0],y=k[1],b="wss://tilerunner.herokuapp.com/?clientType=fyb&thisisme="+n,N=(0,s.useState)(new a.Z(b,(function(e){j(e.data)}),l.j6,n))[0];return(0,s.useEffect)((function(){return N.connect()}),[]),(0,i.jsxs)(i.Fragment,{children:[m===l.dK&&(0,i.jsx)(c.default,{setWhereto:t,client:N,thisisme:n,setParticipant:h,wsmessage:f,nickname:x,setNickname:v,gameid:p,setGameid:y}),m===l.oZ&&(0,i.jsx)(r.default,{setWhereto:t,client:N,thisisme:n,wsmessage:f,nickname:x,gameid:p})]})}},3371:function(e,t,n){n.r(t);var i=n(5893),s=n(7294),a=n(4328),c=n(1484);function r(e,t,n,s){return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"trParagraph",children:"Game List:"}),(0,i.jsxs)("table",{className:"trTable",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"ID"}),(0,i.jsx)("th",{children:"Ppl"}),(0,i.jsx)("th",{children:"Pts"}),(0,i.jsx)("th",{children:"By"}),(0,i.jsx)("th",{children:"State"})]})}),(0,i.jsx)("tbody",{children:e.map((function(e,c){return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.gameid}),(0,i.jsxs)("td",{children:[e.players.length,"/",e.numPlayers]}),(0,i.jsx)("td",{children:e.goal}),(0,i.jsx)("td",{children:e.players[0].nickname}),(0,i.jsx)("td",{children:u(e.players,s)?(0,i.jsx)("button",{className:"trButton",type:"submit",onClick:function(){!function(e,t,n,i){e.send({type:a.j6,func:"rejoin",thisisme:t,gameid:n,nickname:i,timestamp:Date.now()})}(t,n,e.gameid,s)},children:"REJOIN"},"rejoinButton".concat(c)):e.players.length<e.numPlayers?(0,i.jsx)("button",{className:"trButton",type:"submit",onClick:function(){!function(e,t,n,i){e.send({type:a.j6,func:"join",thisisme:t,gameid:n,nickname:i,timestamp:Date.now()})}(t,n,e.gameid,s)},children:"JOIN"},"joinButton".concat(c)):"In progress"})]})}))})]})]})}function l(e,t,n){return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"trParagraph",children:[(0,i.jsx)("label",{children:"Nickname:"}),(0,i.jsx)("input",{type:"text",name:"nickname",value:e,onChange:function(e){t(e.target.value)}})]}),e&&(0,i.jsx)("div",{children:(0,i.jsx)("button",{className:"trButton",type:"submit",onClick:function(){var i=e.trim();t(i),n(!0)},children:"SUBMIT"})})]})}function o(e){return(0,i.jsx)("div",{children:(0,i.jsx)("button",{className:"trButton",type:"submit",id:"chooseCreateGame",onClick:function(){e("C")},children:"CREATE A GAME"})})}function u(e,t){for(var n=!1,i=0;i<e.length;i++)e[i].nickname===t&&(n=!0);return n}t.default=function(e){var t=e.setWhereto,n=e.client,u=e.thisisme,m=e.setParticipant,h=e.wsmessage,d=e.nickname,f=e.setNickname,j=e.gameid,g=e.setGameid,x=(0,s.useState)("Welcome!"),v=x[0],k=x[1],p=(0,s.useState)([]),y=p[0],b=p[1],N=(0,s.useState)(!1),S=N[0],C=N[1],T=(0,s.useState)(""),w=T[0],P=T[1];return(0,s.useEffect)((function(){""!==h&&function(e){var t=JSON.parse(e);if(t.type===a.j6){if(t.func===a.iS)return;t.func===a.hA?b(t.gamelist):t.func===a.e?t.thisisme===u?(g(t.game.gameid),k(t.snat),m(a.oZ)):k("Why am I getting game data from ".concat(t.nickname," for game ").concat(t.gameid,"?")):"gameidtaken"===t.func?k("That game ID is already taken"):"gameidunknown"===t.func?k("That game ID is not being used"):"gamefull"===t.func?k("That game is full"):"notinthatgame"===t.func?k("You are not in that game"):"otherclientfound"===t.func?k("That nickname is already in that game"):k("Unhandled message: ".concat(e))}}(h)}),[h]),(0,i.jsxs)("div",{className:"trBackground",id:"fybLobby",children:[(0,i.jsxs)("div",{className:"trTitle",children:["Fry Your Brain",(0,i.jsx)("button",{className:"trButton",onClick:function(){t("menu")},children:(0,i.jsx)("i",{className:"material-icons","data-toggle":"tooltip",title:"Home",children:"home"})})]}),(0,i.jsx)("div",{className:"trParagraph",children:(0,i.jsx)("label",{children:v})}),!S&&l(d,f,C),S&&y&&y.length>0&&r(y,n,u,d),S&&!w&&o(P),S&&"C"===w&&(0,i.jsx)(c.default,{client:n,thisisme:u,nickname:d,gameid:j,setGameid:g}),(0,i.jsx)("div",{className:"fivepxdivider",children:"\xa0"})]})}},6882:function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}n.d(t,{Z:function(){return r}});var c=function(){function e(t,n){i(this,e),this.callback=t,this.timerCalc=n,this.timer=null,this.tries=0}return a(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}(),r=function(){function e(t,n,s,a){var r=this;i(this,e),this.customSocket=null,this.socketUrl=t,this.clientType=s,this.thisisme=a,this.reconnectTimer=new c((function(){r.disconnect(),r.connect()}),this.reconnectAfterMs),this.messageFunction=n}return a(e,[{key:"reconnectAfterMs",value:function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4}},{key:"connect",value:function(){var e=this;this.customSocket=new WebSocket(this.socketUrl),this.customSocket.onopen=function(t){e.send({type:e.clientType,func:"announce",thisisme:e.thisisme})},this.customSocket.onclose=function(t){e.reconnectTimer.scheduleTimeout()},this.customSocket.onerror=function(e){},this.customSocket.onmessage=this.messageFunction}},{key:"disconnect",value:function(){this.customSocket.onclose=function(){},this.customSocket.close()}},{key:"send",value:function(e){e.thisisme=this.thisisme,e.clientType=this.clientType;var t=JSON.stringify(e);this.customSocket.send(t)}}]),e}()}}]);